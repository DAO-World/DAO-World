{"version":3,"sources":["../node_modules/keccak/lib/api/keccak.js","../node_modules/keccak/lib/api/shake.js","../node_modules/keccak/lib/api/index.js","../node_modules/keccak/lib/keccak-state-unroll.js","../node_modules/keccak/lib/keccak.js","../node_modules/keccak/js.js","../node_modules/ethereumjs-util/dist/index.js","../node_modules/@portis/web3-provider-engine/util/stoplight.js","../node_modules/@portis/web3-provider-engine/util/rpc-cache-utils.js","../node_modules/@portis/web3-provider-engine/util/random-id.js","../node_modules/@portis/web3-provider-engine/util/create-payload.js","../node_modules/@portis/web3-provider-engine/index.js","../node_modules/@portis/web3-provider-engine/subproviders/subprovider.js","../node_modules/@portis/web3-provider-engine/subproviders/json-rpc-engine-middleware.js","../node_modules/@portis/eth-json-rpc-middleware/cache-utils.js","../node_modules/@portis/eth-json-rpc-middleware/block-cache.js","../node_modules/@portis/web3-provider-engine/subproviders/cache.js","../node_modules/@portis/web3-provider-engine/subproviders/fixture.js","../node_modules/@portis/web3-provider-engine/subproviders/filters.js","../node_modules/@portis/web3-provider-engine/util/estimate-gas.js","../node_modules/@portis/web3-provider-engine/subproviders/hooked-wallet.js","../node_modules/@portis/web3-provider-engine/subproviders/nonce-tracker.js","../node_modules/@portis/web3-provider-engine/subproviders/subscriptions.js","../node_modules/penpal/lib/index.js","../node_modules/@portis/web3/es/networks.js","../node_modules/@portis/web3/es/utils/getTxGas.js","../node_modules/@portis/web3/es/utils/query.js","../node_modules/@portis/web3/es/utils/onWindowLoad.js","../node_modules/pocket-js-core/src/models/blockchain.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/node_modules/is-buffer/index.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/index.js","../node_modules/pocket-js-core/src/utils/constants.js","../node_modules/pocket-js-core/src/models/node.js","../node_modules/pocket-js-core/src/models/dispatch.js","../node_modules/pocket-js-core/src/models/relay.js","../node_modules/pocket-js-core/src/models/report.js","../node_modules/pocket-js-core/src/models/wallet.js","../node_modules/pocket-js-core/src/models/index.js","../node_modules/pocket-js-core/src/pocket.js","../node_modules/pocket-js-core/src/index.js","../node_modules/@portis/web3/es/index.js","../node_modules/@portis/web3/es/utils/secureOrigin.js","../node_modules/@portis/web3/es/styles.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["Buffer","require","Transform","inherits","module","exports","KeccakState","Keccak","rate","capacity","delimitedSuffix","hashBitLength","options","call","_rate","_capacity","_delimitedSuffix","_hashBitLength","_options","_state","initialize","_finalized","prototype","_transform","chunk","encoding","callback","error","update","err","_flush","push","digest","data","isBuffer","TypeError","Error","from","absorb","absorbLastFewBits","squeeze","undefined","toString","_resetState","_clone","clone","copy","Shake","_read","size","dataByteLength","createKeccak","createShake","algorithm","hash","toLowerCase","P1600_ROUND_CONSTANTS","p1600","s","round","lo0","hi0","lo1","hi1","lo2","hi2","lo3","hi3","lo4","hi4","lo","hi","t1slo0","t1shi0","t1slo5","t1shi5","t1slo10","t1shi10","t1slo15","t1shi15","t1slo20","t1shi20","t1slo1","t1shi1","t1slo6","t1shi6","t1slo11","t1shi11","t1slo16","t1shi16","t1slo21","t1shi21","t1slo2","t1shi2","t1slo7","t1shi7","t1slo12","t1shi12","t1slo17","t1shi17","t1slo22","t1shi22","t1slo3","t1shi3","t1slo8","t1shi8","t1slo13","t1shi13","t1slo18","t1shi18","t1slo23","t1shi23","t1slo4","t1shi4","t1slo9","t1shi9","t1slo14","t1shi14","t1slo19","t1shi19","t1slo24","t1shi24","t2slo0","t2shi0","t2slo16","t2shi16","t2slo7","t2shi7","t2slo23","t2shi23","t2slo14","t2shi14","t2slo10","t2shi10","t2slo1","t2shi1","t2slo17","t2shi17","t2slo8","t2shi8","t2slo24","t2shi24","t2slo20","t2shi20","t2slo11","t2shi11","t2slo2","t2shi2","t2slo18","t2shi18","t2slo9","t2shi9","t2slo5","t2shi5","t2slo21","t2shi21","t2slo12","t2shi12","t2slo3","t2shi3","t2slo19","t2shi19","t2slo15","t2shi15","t2slo6","t2shi6","t2slo22","t2shi22","t2slo13","t2shi13","t2slo4","t2shi4","keccakState","state","blockSize","count","squeezing","i","length","bits","output","alloc","dest","EventEmitter","require$$0","require$$1","Stoplight","this","isLocked","go","emit","stop","await","fn","self","once","setTimeout","payload","index","blockTagParamIndex","params","method","datePart","Date","getTime","Math","pow","extraPart","floor","random","extend","id","getRandomId","jsonrpc","noop","Web3ProviderEngine","opts","setMaxListeners","directProvider","sendAsync","_handleAsync","bind","blockTrackerProvider","_blockTracker","blockTracker","EthBlockTracker","provider","pollingInterval","setSkipCacheFlag","_ready","currentBlock","_providers","Object","defineProperty","value","start","cb","on","blockNumber","_getBlockByNumber","block","bufferBlock","jsonBlock","number","ethUtil","toBuffer","parentHash","nonce","mixHash","sha3Uncles","logsBloom","transactionsRoot","stateRoot","receiptsRoot","receiptRoot","miner","difficulty","totalDifficulty","extraData","gasLimit","gasUsed","timestamp","transactions","_setCurrentBlock","_running","removeAllListeners","isRunning","addProvider","source","splice","setEngine","removeProvider","indexOf","send","Array","isArray","map","req","createPayload","skipCache","res","result","finished","currentProvider","stack","end","_error","_result","eachSeries","resultObj","message","code","next","after","unshift","handleRequest","e","SubProvider","engine","emitPayload","Subprovider","[object Object]","constructorFn","super","_constructorFn","middleware","provEngNext","provEngEnd","handler","cacheIdentifierForPayload","skipBlockRef","simpleParams","paramsWithoutBlockTag","canCache","stringify","blockTagForPayload","cacheTypeForPayload","slice","emptyValues","blockCache","BlockCacheStrategy","strategies","perma","fork","createAsyncMiddleware","async","type","cacheUtils","strategy","canCacheRequest","requestedBlockNumber","blockTag","latestBlockNumber","getLatestBlock","clearBefore","cacheResult","get","set","cache","blockNumberHex","Number","parseInt","newCache","getBlockCacheForPayload","canCacheResult","includes","blockHash","oldBlockHex","oldBlockNumber","keys","filter","num","forEach","ProviderSubprovider","createBlockCacheMiddleware","assign","FixtureProvider","staticResponses","staticResponse","createFilterMiddleware","txParams","hexRegex","HookedWalletSubprovider","nonceLock","Semaphore","getAccounts","processTransaction","processMessage","processPersonalMessage","processTypedMessage","processTypedMessageV3","approveTransaction","autoApprove","approveMessage","approvePersonalMessage","approveTypedMessage","approveTypedMessageV3","signTransaction","mustProvideInConstructor","signMessage","signPersonalMessage","signTypedMessage","signTypedMessageV3","recoverPersonalSignature","publishTransaction","estimateGas","getGasPrice","string","resemblesAddress","fixed","addHexPrefix","isValidAddress","resemblesData","isValidHex","match","methodName","msgParams","extraParams","address","_parityRequests","_parityRequestCount","accounts","waterfall","validateTransaction","processSignTransaction","validateMessage","first","warning","console","warn","validatePersonalMessage","signature","sig","validateTypedMessage","validateTypedMessageV3","parityPostTransaction","parityPostSign","requestId","parityCheckRequest","account","didApprove","checkApproval","finalizeAndSubmitTx","finalizeTx","reqId","txHash","senderHex","sigUtil","validateSender","senderIsValid","senderAddress","take","fillInTxExtras","leave","signedTx","raw","tx","rawTx","tasks","gasPrice","gas","to","cloneTxParams","parallel","taskResults","NonceTrackerSubprovider","nonceCache","cachedResult","stripHexPrefix","Transaction","getSenderAddress","bufferToInt","hexNonce","events","createSubscriptionManager","MESSAGE","DEFAULT_PORTS","http:","https:","URL_REGEX","Penpal","ERR_CONNECTION_DESTROYED","ERR_CONNECTION_TIMEOUT","ERR_NOT_IN_IFRAME","Promise","window","debug","generateId","log","_console","_len","arguments","args","_key","apply","concat","DestructionPromise","executor","handlers","then","serializeError","_ref","name","deserializeError","obj","deserializedError","key","connectCallSender","callSender","info","methodNames","destructionPromise","localName","local","remote","remoteOrigin","destroyed","reduce","api","_len2","_key2","resolve","reject","addEventListener","handleMessageEvent","event","origin","penpal","removeEventListener","returnValue","returnValueIsError","resolution","postMessage","createMethodProxy","connectCallReceiver","methods","_event$data","createPromiseHandler","connectToChild","_ref2","destroy","url","appendTo","_ref2$methods","timeout","connectionDestructionPromise","resolveConnectionDestructionPromise","parent","iframe","document","createElement","body","appendChild","parentNode","removeChild","child","contentWindow","contentDocument","parentWindow","childOrigin","protocol","hostname","port","location","regexResult","exec","portSuffix","getOriginFromUrl","promise","resolveConnectionPromise","connectionTimeoutId","receiverMethodNames","destroyCallReceiver","handleMessage","callReceiverDestructionPromise","resolveCallReceiverDestructionPromise","receiverMethodName","clearTimeout","src","connectToParent","_ref3","_ref3$parentOrigin","parentOrigin","_ref3$methods","top","_default","networkAdapter","network","gasRelay","networkObj","networks","nodeUrl","gasRelayHubAddress","mainnet","chainId","ropsten","rinkeby","goerli","ubiq","thundercoreTestnet","orchid","orchidTestnet","kovan","classic","sokol","core","xdai","thundercore","fuse","lightstreams","maticAlpha","maticTestnet","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","done","__generator","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","pop","_a","BN","getTxGas","query","safeGas","simpleSend","gasLimitSpecified","_b","getBlockByNumber","safeTxGas","estimateTxGas","blockGasLimitHex","recipient","blockGasLimitBN","Boolean","getCode","hexToBn","targetBN","denominator","numBN","denomBN","bnToHex","mul","div","addGasBuffer","initialGasLimitHex","initialGasLimitBn","upperGasLimitBn","muln","bufferedGasLimitBn","gt","lt","inputHex","inputBn","Query","fullTransaction","_this","_i","response","loaded","onWindowLoad","readyState","Blockchain","netID","JSON","parse","val","isObject","isFunction","l","hasOwnProperty","isArrayBuffer","constructor","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","merge","assignValue","a","b","trim","str","replace","config","request","enhanceError","encode","encodeURIComponent","ignoreDuplicateOf","utils","originURL","msie","test","userAgent","urlParsingNode","resolveURL","href","setAttribute","host","search","pathname","charAt","requestURL","parsed","write","expires","path","domain","secure","cookie","toGMTString","join","read","RegExp","decodeURIComponent","remove","now","requestData","requestHeaders","headers","XMLHttpRequest","auth","username","password","Authorization","btoa","open","toUpperCase","paramsSerializer","serializedParams","parts","toISOString","buildURL","onreadystatechange","status","responseURL","responseHeaders","getAllResponseHeaders","split","line","substr","responseType","responseText","statusText","validateStatus","createError","settle","onerror","ontimeout","cookies","xsrfValue","withCredentials","isURLSameOrigin","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","onUploadProgress","upload","cancelToken","cancel","abort","DEFAULT_CONTENT_TYPE","Content-Type","setContentTypeIfUnset","adapter","defaults","process","transformRequest","normalizedName","normalizeHeaderName","transformResponse","maxContentLength","common","Accept","InterceptorManager","use","eject","h","fns","__CANCEL__","throwIfCancellationRequested","throwIfRequested","baseURL","relativeURL","transformData","reason","isCancel","Axios","instanceConfig","interceptors","chain","dispatchRequest","interceptor","shift","Cancel","CancelToken","resolvePromise","token","c","createInstance","defaultConfig","context","instance","axios","create","require$$2","all","promises","spread","arr","Node","ipPort","ipPortArr","ip","property","relay","axiosInstance","configuration","requestTimeOut","post","constants","toJSON","Dispatch","blockchainArray","blockchains","element","DevID","devID","Blockchains","blockchainsJSON","nodes","parseDispatchResponse","netid","ips","node","Relay","blockchain","NetID","Data","Report","IP","Message","Wallet","privateKey","networkID","require$$3","require$$4","require$$5","Models","Configuration","maxNodes","dispatch","networkName","netIDs","nodesIsEmpty","retrieveNodes","isEqual","report","isValid","getNode","sendRelay","getDispatch","retrieveServiceNodes","SUPPORTED_SCOPES","tempCachingIFrame","style","width","height","border","position","left","Portis","dappId","_widgetUrl","isLocalhost","isSecureOrigin","validateSecureOrigin","_valiadateParams","version","scope","registerPageByDefault","widget","_initWidget","_initProvider","changeNetwork","newNetwork","clearSubprovider","NonceSubprovider","CacheSubprovider","setDefaultEmail","email","defaultEmail","showPortis","communication","logout","onLogin","_onLoginCallback","onLogout","_onLogoutCallback","onActiveWalletChanged","_onActiveWalletChangedCallback","onError","_onErrorCallback","getExtendedPublicKey","coin","importWallet","mnemonicOrPrivateKey","isLoggedIn","signBitcoinTransaction","showBitcoinWallet","item","container","widgetFrame","connection","contains","innerHTML","className","head","getElementById","setHeight","_setHeight","getWindowSize","_getWindowSize","_onLogin","_onLogout","_onActiveWalletChanged","_onError","retrieveSession","ProviderEngine","_selectedAddress","_network","FixtureSubprovider","web3_clientVersion","net_listening","eth_hashrate","eth_mining","eth_syncing","SubscriptionsSubprovider","FilterSubprovider","widgetCommunication","messageStandard","pocketDevId","pocket_1","PocketJSCore","Pocket","networkVersion","enable","isConnected","isPortis","getElementsByTagName","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","walletAddress","reputation","subproviderType","subprovider","find","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","overlay","createErrorOverlay","stackTrace","innerText","getParents","modules","parents","k","d","dep","Function","deps","cached","some"],"mappings":"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CD;AACF;;AAED,SAAOK,MAAP;AACD,CAdD;;AAgBA7K,MAAM,CAACe,SAAP,CAAiBwB,IAAjB,GAAwB,UAAUwI,IAAV,EAAgB;AACtC,OAAK,IAAIL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwB,EAAEA,CAA1B,EAA6BK,IAAI,CAACT,KAAL,CAAWI,CAAX,IAAgB,KAAKJ,KAAL,CAAWI,CAAX,CAAhB;;AAC7BK,EAAAA,IAAI,CAACR,SAAL,GAAiB,KAAKA,SAAtB;AACAQ,EAAAA,IAAI,CAACP,KAAL,GAAa,KAAKA,KAAlB;AACAO,EAAAA,IAAI,CAACN,SAAL,GAAiB,KAAKA,SAAtB;AACD,CALD;;AAOA5K,MAAM,CAACC,OAAP,GAAiBE,MAAjB;;ACrEA;;AACAH,MAAM,CAACC,OAAP,GAAiBJ,OAAO,CAAC,WAAD,CAAP,CAAqBA,OAAO,CAAC,cAAD,CAA5B,CAAjB;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1sBA,MAAMsL,CAAAA,GAAeC,eAAkBD,YAAvC;AAAA,MACMpL,CAAAA,GAAWsL,+BAAgBtL,QADjC;AAGA,IAAA,CAAA,GAAiBuL,CAAjB;;AAKA,SAASA,CAAT,GAASA;AAEPH,EAAAA,CAAAA,CAAa1K,IAAb0K,CADaI,IACbJ,GADaI,KAERC,QAFQD,GAERC,CAAW,CADhBL;AAJFpL;;AAAAA,CAAAA,CAASuL,CAATvL,EAAoBoL,CAApBpL,CAAAA,EAQAuL,CAAAA,CAAUpK,SAAVoK,CAAoBG,EAApBH,GAAyB,YAAA;AACVC,OACRC,QADQD,GACRC,CAAW,CADHD,EAAAA,KAERG,IAFQH,CAEH,QAFGA,CAAAA;AAEH,CAXZxL,EAcAuL,CAAAA,CAAUpK,SAAVoK,CAAoBK,IAApBL,GAA2B,YAAA;AACZC,OACRC,QADQD,GACRC,CAAW,CADHD,EAAAA,KAERG,IAFQH,CAEH,MAFGA,CAAAA;AAEH,CAjBZxL,EAoBAuL,CAAAA,CAAUpK,SAAVoK,CAAoBM,KAApBN,GAA4B,UAASO,CAAT,EAASA;AACnC,QAAMC,CAAAA,GAAOP,IAAb;AACIO,EAAAA,CAAAA,CAAKN,QAALM,GACFA,CAA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","file":"index-5f854499.5c033df5.js","sourceRoot":"../src","sourcesContent":["'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar Transform = require('stream').Transform\nvar inherits = require('inherits')\n\nmodule.exports = function (KeccakState) {\n  function Keccak (rate, capacity, delimitedSuffix, hashBitLength, options) {\n    Transform.call(this, options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._hashBitLength = hashBitLength\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  inherits(Keccak, Transform)\n\n  Keccak.prototype._transform = function (chunk, encoding, callback) {\n    var error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Keccak.prototype._flush = function (callback) {\n    var error = null\n    try {\n      this.push(this.digest())\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Keccak.prototype.update = function (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Digest already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  Keccak.prototype.digest = function (encoding) {\n    if (this._finalized) throw new Error('Digest already called')\n    this._finalized = true\n\n    if (this._delimitedSuffix) this._state.absorbLastFewBits(this._delimitedSuffix)\n    var digest = this._state.squeeze(this._hashBitLength / 8)\n    if (encoding !== undefined) digest = digest.toString(encoding)\n\n    this._resetState()\n\n    return digest\n  }\n\n  // remove result from memory\n  Keccak.prototype._resetState = function () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  // because sometimes we need hash right now and little later\n  Keccak.prototype._clone = function () {\n    var clone = new Keccak(this._rate, this._capacity, this._delimitedSuffix, this._hashBitLength, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n\n  return Keccak\n}\n","'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar Transform = require('stream').Transform\nvar inherits = require('inherits')\n\nmodule.exports = function (KeccakState) {\n  function Shake (rate, capacity, delimitedSuffix, options) {\n    Transform.call(this, options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  inherits(Shake, Transform)\n\n  Shake.prototype._transform = function (chunk, encoding, callback) {\n    var error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Shake.prototype._flush = function () {}\n\n  Shake.prototype._read = function (size) {\n    this.push(this.squeeze(size))\n  }\n\n  Shake.prototype.update = function (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Squeeze already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  Shake.prototype.squeeze = function (dataByteLength, encoding) {\n    if (!this._finalized) {\n      this._finalized = true\n      this._state.absorbLastFewBits(this._delimitedSuffix)\n    }\n\n    var data = this._state.squeeze(dataByteLength)\n    if (encoding !== undefined) data = data.toString(encoding)\n\n    return data\n  }\n\n  Shake.prototype._resetState = function () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  Shake.prototype._clone = function () {\n    var clone = new Shake(this._rate, this._capacity, this._delimitedSuffix, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n\n  return Shake\n}\n","'use strict'\nvar createKeccak = require('./keccak')\nvar createShake = require('./shake')\n\nmodule.exports = function (KeccakState) {\n  var Keccak = createKeccak(KeccakState)\n  var Shake = createShake(KeccakState)\n\n  return function (algorithm, options) {\n    var hash = typeof algorithm === 'string' ? algorithm.toLowerCase() : algorithm\n    switch (hash) {\n      case 'keccak224': return new Keccak(1152, 448, null, 224, options)\n      case 'keccak256': return new Keccak(1088, 512, null, 256, options)\n      case 'keccak384': return new Keccak(832, 768, null, 384, options)\n      case 'keccak512': return new Keccak(576, 1024, null, 512, options)\n\n      case 'sha3-224': return new Keccak(1152, 448, 0x06, 224, options)\n      case 'sha3-256': return new Keccak(1088, 512, 0x06, 256, options)\n      case 'sha3-384': return new Keccak(832, 768, 0x06, 384, options)\n      case 'sha3-512': return new Keccak(576, 1024, 0x06, 512, options)\n\n      case 'shake128': return new Shake(1344, 256, 0x1f, options)\n      case 'shake256': return new Shake(1088, 512, 0x1f, options)\n\n      default: throw new Error('Invald algorithm: ' + algorithm)\n    }\n  }\n}\n","'use strict'\nvar P1600_ROUND_CONSTANTS = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648]\n\nexports.p1600 = function (s) {\n  for (var round = 0; round < 24; ++round) {\n    // theta\n    var lo0 = s[0] ^ s[10] ^ s[20] ^ s[30] ^ s[40]\n    var hi0 = s[1] ^ s[11] ^ s[21] ^ s[31] ^ s[41]\n    var lo1 = s[2] ^ s[12] ^ s[22] ^ s[32] ^ s[42]\n    var hi1 = s[3] ^ s[13] ^ s[23] ^ s[33] ^ s[43]\n    var lo2 = s[4] ^ s[14] ^ s[24] ^ s[34] ^ s[44]\n    var hi2 = s[5] ^ s[15] ^ s[25] ^ s[35] ^ s[45]\n    var lo3 = s[6] ^ s[16] ^ s[26] ^ s[36] ^ s[46]\n    var hi3 = s[7] ^ s[17] ^ s[27] ^ s[37] ^ s[47]\n    var lo4 = s[8] ^ s[18] ^ s[28] ^ s[38] ^ s[48]\n    var hi4 = s[9] ^ s[19] ^ s[29] ^ s[39] ^ s[49]\n\n    var lo = lo4 ^ (lo1 << 1 | hi1 >>> 31)\n    var hi = hi4 ^ (hi1 << 1 | lo1 >>> 31)\n    var t1slo0 = s[0] ^ lo\n    var t1shi0 = s[1] ^ hi\n    var t1slo5 = s[10] ^ lo\n    var t1shi5 = s[11] ^ hi\n    var t1slo10 = s[20] ^ lo\n    var t1shi10 = s[21] ^ hi\n    var t1slo15 = s[30] ^ lo\n    var t1shi15 = s[31] ^ hi\n    var t1slo20 = s[40] ^ lo\n    var t1shi20 = s[41] ^ hi\n    lo = lo0 ^ (lo2 << 1 | hi2 >>> 31)\n    hi = hi0 ^ (hi2 << 1 | lo2 >>> 31)\n    var t1slo1 = s[2] ^ lo\n    var t1shi1 = s[3] ^ hi\n    var t1slo6 = s[12] ^ lo\n    var t1shi6 = s[13] ^ hi\n    var t1slo11 = s[22] ^ lo\n    var t1shi11 = s[23] ^ hi\n    var t1slo16 = s[32] ^ lo\n    var t1shi16 = s[33] ^ hi\n    var t1slo21 = s[42] ^ lo\n    var t1shi21 = s[43] ^ hi\n    lo = lo1 ^ (lo3 << 1 | hi3 >>> 31)\n    hi = hi1 ^ (hi3 << 1 | lo3 >>> 31)\n    var t1slo2 = s[4] ^ lo\n    var t1shi2 = s[5] ^ hi\n    var t1slo7 = s[14] ^ lo\n    var t1shi7 = s[15] ^ hi\n    var t1slo12 = s[24] ^ lo\n    var t1shi12 = s[25] ^ hi\n    var t1slo17 = s[34] ^ lo\n    var t1shi17 = s[35] ^ hi\n    var t1slo22 = s[44] ^ lo\n    var t1shi22 = s[45] ^ hi\n    lo = lo2 ^ (lo4 << 1 | hi4 >>> 31)\n    hi = hi2 ^ (hi4 << 1 | lo4 >>> 31)\n    var t1slo3 = s[6] ^ lo\n    var t1shi3 = s[7] ^ hi\n    var t1slo8 = s[16] ^ lo\n    var t1shi8 = s[17] ^ hi\n    var t1slo13 = s[26] ^ lo\n    var t1shi13 = s[27] ^ hi\n    var t1slo18 = s[36] ^ lo\n    var t1shi18 = s[37] ^ hi\n    var t1slo23 = s[46] ^ lo\n    var t1shi23 = s[47] ^ hi\n    lo = lo3 ^ (lo0 << 1 | hi0 >>> 31)\n    hi = hi3 ^ (hi0 << 1 | lo0 >>> 31)\n    var t1slo4 = s[8] ^ lo\n    var t1shi4 = s[9] ^ hi\n    var t1slo9 = s[18] ^ lo\n    var t1shi9 = s[19] ^ hi\n    var t1slo14 = s[28] ^ lo\n    var t1shi14 = s[29] ^ hi\n    var t1slo19 = s[38] ^ lo\n    var t1shi19 = s[39] ^ hi\n    var t1slo24 = s[48] ^ lo\n    var t1shi24 = s[49] ^ hi\n\n    // rho & pi\n    var t2slo0 = t1slo0\n    var t2shi0 = t1shi0\n    var t2slo16 = (t1shi5 << 4 | t1slo5 >>> 28)\n    var t2shi16 = (t1slo5 << 4 | t1shi5 >>> 28)\n    var t2slo7 = (t1slo10 << 3 | t1shi10 >>> 29)\n    var t2shi7 = (t1shi10 << 3 | t1slo10 >>> 29)\n    var t2slo23 = (t1shi15 << 9 | t1slo15 >>> 23)\n    var t2shi23 = (t1slo15 << 9 | t1shi15 >>> 23)\n    var t2slo14 = (t1slo20 << 18 | t1shi20 >>> 14)\n    var t2shi14 = (t1shi20 << 18 | t1slo20 >>> 14)\n    var t2slo10 = (t1slo1 << 1 | t1shi1 >>> 31)\n    var t2shi10 = (t1shi1 << 1 | t1slo1 >>> 31)\n    var t2slo1 = (t1shi6 << 12 | t1slo6 >>> 20)\n    var t2shi1 = (t1slo6 << 12 | t1shi6 >>> 20)\n    var t2slo17 = (t1slo11 << 10 | t1shi11 >>> 22)\n    var t2shi17 = (t1shi11 << 10 | t1slo11 >>> 22)\n    var t2slo8 = (t1shi16 << 13 | t1slo16 >>> 19)\n    var t2shi8 = (t1slo16 << 13 | t1shi16 >>> 19)\n    var t2slo24 = (t1slo21 << 2 | t1shi21 >>> 30)\n    var t2shi24 = (t1shi21 << 2 | t1slo21 >>> 30)\n    var t2slo20 = (t1shi2 << 30 | t1slo2 >>> 2)\n    var t2shi20 = (t1slo2 << 30 | t1shi2 >>> 2)\n    var t2slo11 = (t1slo7 << 6 | t1shi7 >>> 26)\n    var t2shi11 = (t1shi7 << 6 | t1slo7 >>> 26)\n    var t2slo2 = (t1shi12 << 11 | t1slo12 >>> 21)\n    var t2shi2 = (t1slo12 << 11 | t1shi12 >>> 21)\n    var t2slo18 = (t1slo17 << 15 | t1shi17 >>> 17)\n    var t2shi18 = (t1shi17 << 15 | t1slo17 >>> 17)\n    var t2slo9 = (t1shi22 << 29 | t1slo22 >>> 3)\n    var t2shi9 = (t1slo22 << 29 | t1shi22 >>> 3)\n    var t2slo5 = (t1slo3 << 28 | t1shi3 >>> 4)\n    var t2shi5 = (t1shi3 << 28 | t1slo3 >>> 4)\n    var t2slo21 = (t1shi8 << 23 | t1slo8 >>> 9)\n    var t2shi21 = (t1slo8 << 23 | t1shi8 >>> 9)\n    var t2slo12 = (t1slo13 << 25 | t1shi13 >>> 7)\n    var t2shi12 = (t1shi13 << 25 | t1slo13 >>> 7)\n    var t2slo3 = (t1slo18 << 21 | t1shi18 >>> 11)\n    var t2shi3 = (t1shi18 << 21 | t1slo18 >>> 11)\n    var t2slo19 = (t1shi23 << 24 | t1slo23 >>> 8)\n    var t2shi19 = (t1slo23 << 24 | t1shi23 >>> 8)\n    var t2slo15 = (t1slo4 << 27 | t1shi4 >>> 5)\n    var t2shi15 = (t1shi4 << 27 | t1slo4 >>> 5)\n    var t2slo6 = (t1slo9 << 20 | t1shi9 >>> 12)\n    var t2shi6 = (t1shi9 << 20 | t1slo9 >>> 12)\n    var t2slo22 = (t1shi14 << 7 | t1slo14 >>> 25)\n    var t2shi22 = (t1slo14 << 7 | t1shi14 >>> 25)\n    var t2slo13 = (t1slo19 << 8 | t1shi19 >>> 24)\n    var t2shi13 = (t1shi19 << 8 | t1slo19 >>> 24)\n    var t2slo4 = (t1slo24 << 14 | t1shi24 >>> 18)\n    var t2shi4 = (t1shi24 << 14 | t1slo24 >>> 18)\n\n    // chi\n    s[0] = t2slo0 ^ (~t2slo1 & t2slo2)\n    s[1] = t2shi0 ^ (~t2shi1 & t2shi2)\n    s[10] = t2slo5 ^ (~t2slo6 & t2slo7)\n    s[11] = t2shi5 ^ (~t2shi6 & t2shi7)\n    s[20] = t2slo10 ^ (~t2slo11 & t2slo12)\n    s[21] = t2shi10 ^ (~t2shi11 & t2shi12)\n    s[30] = t2slo15 ^ (~t2slo16 & t2slo17)\n    s[31] = t2shi15 ^ (~t2shi16 & t2shi17)\n    s[40] = t2slo20 ^ (~t2slo21 & t2slo22)\n    s[41] = t2shi20 ^ (~t2shi21 & t2shi22)\n    s[2] = t2slo1 ^ (~t2slo2 & t2slo3)\n    s[3] = t2shi1 ^ (~t2shi2 & t2shi3)\n    s[12] = t2slo6 ^ (~t2slo7 & t2slo8)\n    s[13] = t2shi6 ^ (~t2shi7 & t2shi8)\n    s[22] = t2slo11 ^ (~t2slo12 & t2slo13)\n    s[23] = t2shi11 ^ (~t2shi12 & t2shi13)\n    s[32] = t2slo16 ^ (~t2slo17 & t2slo18)\n    s[33] = t2shi16 ^ (~t2shi17 & t2shi18)\n    s[42] = t2slo21 ^ (~t2slo22 & t2slo23)\n    s[43] = t2shi21 ^ (~t2shi22 & t2shi23)\n    s[4] = t2slo2 ^ (~t2slo3 & t2slo4)\n    s[5] = t2shi2 ^ (~t2shi3 & t2shi4)\n    s[14] = t2slo7 ^ (~t2slo8 & t2slo9)\n    s[15] = t2shi7 ^ (~t2shi8 & t2shi9)\n    s[24] = t2slo12 ^ (~t2slo13 & t2slo14)\n    s[25] = t2shi12 ^ (~t2shi13 & t2shi14)\n    s[34] = t2slo17 ^ (~t2slo18 & t2slo19)\n    s[35] = t2shi17 ^ (~t2shi18 & t2shi19)\n    s[44] = t2slo22 ^ (~t2slo23 & t2slo24)\n    s[45] = t2shi22 ^ (~t2shi23 & t2shi24)\n    s[6] = t2slo3 ^ (~t2slo4 & t2slo0)\n    s[7] = t2shi3 ^ (~t2shi4 & t2shi0)\n    s[16] = t2slo8 ^ (~t2slo9 & t2slo5)\n    s[17] = t2shi8 ^ (~t2shi9 & t2shi5)\n    s[26] = t2slo13 ^ (~t2slo14 & t2slo10)\n    s[27] = t2shi13 ^ (~t2shi14 & t2shi10)\n    s[36] = t2slo18 ^ (~t2slo19 & t2slo15)\n    s[37] = t2shi18 ^ (~t2shi19 & t2shi15)\n    s[46] = t2slo23 ^ (~t2slo24 & t2slo20)\n    s[47] = t2shi23 ^ (~t2shi24 & t2shi20)\n    s[8] = t2slo4 ^ (~t2slo0 & t2slo1)\n    s[9] = t2shi4 ^ (~t2shi0 & t2shi1)\n    s[18] = t2slo9 ^ (~t2slo5 & t2slo6)\n    s[19] = t2shi9 ^ (~t2shi5 & t2shi6)\n    s[28] = t2slo14 ^ (~t2slo10 & t2slo11)\n    s[29] = t2shi14 ^ (~t2shi10 & t2shi11)\n    s[38] = t2slo19 ^ (~t2slo15 & t2slo16)\n    s[39] = t2shi19 ^ (~t2shi15 & t2shi16)\n    s[48] = t2slo24 ^ (~t2slo20 & t2slo21)\n    s[49] = t2shi24 ^ (~t2shi20 & t2shi21)\n\n    // iota\n    s[0] ^= P1600_ROUND_CONSTANTS[round * 2]\n    s[1] ^= P1600_ROUND_CONSTANTS[round * 2 + 1]\n  }\n}\n","'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar keccakState = require('./keccak-state-unroll')\n\nfunction Keccak () {\n  // much faster than `new Array(50)`\n  this.state = [\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0\n  ]\n\n  this.blockSize = null\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.initialize = function (rate, capacity) {\n  for (var i = 0; i < 50; ++i) this.state[i] = 0\n  this.blockSize = rate / 8\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.absorb = function (data) {\n  for (var i = 0; i < data.length; ++i) {\n    this.state[~~(this.count / 4)] ^= data[i] << (8 * (this.count % 4))\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n}\n\nKeccak.prototype.absorbLastFewBits = function (bits) {\n  this.state[~~(this.count / 4)] ^= bits << (8 * (this.count % 4))\n  if ((bits & 0x80) !== 0 && this.count === (this.blockSize - 1)) keccakState.p1600(this.state)\n  this.state[~~((this.blockSize - 1) / 4)] ^= 0x80 << (8 * ((this.blockSize - 1) % 4))\n  keccakState.p1600(this.state)\n  this.count = 0\n  this.squeezing = true\n}\n\nKeccak.prototype.squeeze = function (length) {\n  if (!this.squeezing) this.absorbLastFewBits(0x01)\n\n  var output = Buffer.alloc(length)\n  for (var i = 0; i < length; ++i) {\n    output[i] = (this.state[~~(this.count / 4)] >>> (8 * (this.count % 4))) & 0xff\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n\n  return output\n}\n\nKeccak.prototype.copy = function (dest) {\n  for (var i = 0; i < 50; ++i) dest.state[i] = this.state[i]\n  dest.blockSize = this.blockSize\n  dest.count = this.count\n  dest.squeezing = this.squeezing\n}\n\nmodule.exports = Keccak\n","'use strict'\nmodule.exports = require('./lib/api')(require('./lib/keccak'))\n","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar createKeccakHash = require('keccak');\nvar secp256k1 = require('secp256k1');\nvar assert = require('assert');\nvar rlp = require('rlp');\nvar BN = require('bn.js');\nvar createHash = require('create-hash');\nvar Buffer = require('safe-buffer').Buffer;\nObject.assign(exports, require('ethjs-util'));\n\n/**\n * the max integer that this VM can handle (a ```BN```)\n * @var {BN} MAX_INTEGER\n */\nexports.MAX_INTEGER = new BN('ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff', 16);\n\n/**\n * 2^256 (a ```BN```)\n * @var {BN} TWO_POW256\n */\nexports.TWO_POW256 = new BN('10000000000000000000000000000000000000000000000000000000000000000', 16);\n\n/**\n * Keccak-256 hash of null (a ```String```)\n * @var {String} KECCAK256_NULL_S\n */\nexports.KECCAK256_NULL_S = 'c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470';\nexports.SHA3_NULL_S = exports.KECCAK256_NULL_S;\n\n/**\n * Keccak-256 hash of null (a ```Buffer```)\n * @var {Buffer} KECCAK256_NULL\n */\nexports.KECCAK256_NULL = Buffer.from(exports.KECCAK256_NULL_S, 'hex');\nexports.SHA3_NULL = exports.KECCAK256_NULL;\n\n/**\n * Keccak-256 of an RLP of an empty array (a ```String```)\n * @var {String} KECCAK256_RLP_ARRAY_S\n */\nexports.KECCAK256_RLP_ARRAY_S = '1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347';\nexports.SHA3_RLP_ARRAY_S = exports.KECCAK256_RLP_ARRAY_S;\n\n/**\n * Keccak-256 of an RLP of an empty array (a ```Buffer```)\n * @var {Buffer} KECCAK256_RLP_ARRAY\n */\nexports.KECCAK256_RLP_ARRAY = Buffer.from(exports.KECCAK256_RLP_ARRAY_S, 'hex');\nexports.SHA3_RLP_ARRAY = exports.KECCAK256_RLP_ARRAY;\n\n/**\n * Keccak-256 hash of the RLP of null  (a ```String```)\n * @var {String} KECCAK256_RLP_S\n */\nexports.KECCAK256_RLP_S = '56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421';\nexports.SHA3_RLP_S = exports.KECCAK256_RLP_S;\n\n/**\n * Keccak-256 hash of the RLP of null (a ```Buffer```)\n * @var {Buffer} KECCAK256_RLP\n */\nexports.KECCAK256_RLP = Buffer.from(exports.KECCAK256_RLP_S, 'hex');\nexports.SHA3_RLP = exports.KECCAK256_RLP;\n\n/**\n * [`BN`](https://github.com/indutny/bn.js)\n * @var {Function}\n */\nexports.BN = BN;\n\n/**\n * [`rlp`](https://github.com/ethereumjs/rlp)\n * @var {Function}\n */\nexports.rlp = rlp;\n\n/**\n * [`secp256k1`](https://github.com/cryptocoinjs/secp256k1-node/)\n * @var {Object}\n */\nexports.secp256k1 = secp256k1;\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nexports.zeros = function (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0);\n};\n\n/**\n  * Returns a zero address\n  * @method zeroAddress\n  * @return {String}\n  */\nexports.zeroAddress = function () {\n  var addressLength = 20;\n  var zeroAddress = exports.zeros(addressLength);\n  return exports.bufferToHex(zeroAddress);\n};\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method lsetLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nexports.setLengthLeft = exports.setLength = function (msg, length, right) {\n  var buf = exports.zeros(length);\n  msg = exports.toBuffer(msg);\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf);\n      return buf;\n    }\n    return msg.slice(0, length);\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length);\n      return buf;\n    }\n    return msg.slice(-length);\n  }\n};\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nexports.setLengthRight = function (msg, length) {\n  return exports.setLength(msg, length, true);\n};\n\n/**\n * Trims leading zeros from a `Buffer` or an `Array`\n * @param {Buffer|Array|String} a\n * @return {Buffer|Array|String}\n */\nexports.unpad = exports.stripZeros = function (a) {\n  a = exports.stripHexPrefix(a);\n  var first = a[0];\n  while (a.length > 0 && first.toString() === '0') {\n    a = a.slice(1);\n    first = a[0];\n  }\n  return a;\n};\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nexports.toBuffer = function (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v);\n    } else if (typeof v === 'string') {\n      if (exports.isHexString(v)) {\n        v = Buffer.from(exports.padToEven(exports.stripHexPrefix(v)), 'hex');\n      } else {\n        v = Buffer.from(v);\n      }\n    } else if (typeof v === 'number') {\n      v = exports.intToBuffer(v);\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0);\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer);\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray());\n    } else {\n      throw new Error('invalid type');\n    }\n  }\n  return v;\n};\n\n/**\n * Converts a `Buffer` to a `Number`\n * @param {Buffer} buf\n * @return {Number}\n * @throws If the input number exceeds 53 bits.\n */\nexports.bufferToInt = function (buf) {\n  return new BN(exports.toBuffer(buf)).toNumber();\n};\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nexports.bufferToHex = function (buf) {\n  buf = exports.toBuffer(buf);\n  return '0x' + buf.toString('hex');\n};\n\n/**\n * Interprets a `Buffer` as a signed integer and returns a `BN`. Assumes 256-bit numbers.\n * @param {Buffer} num\n * @return {BN}\n */\nexports.fromSigned = function (num) {\n  return new BN(num).fromTwos(256);\n};\n\n/**\n * Converts a `BN` to an unsigned integer and returns it as a `Buffer`. Assumes 256-bit numbers.\n * @param {BN} num\n * @return {Buffer}\n */\nexports.toUnsigned = function (num) {\n  return Buffer.from(num.toTwos(256).toArray());\n};\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nexports.keccak = function (a, bits) {\n  a = exports.toBuffer(a);\n  if (!bits) bits = 256;\n\n  return createKeccakHash('keccak' + bits).update(a).digest();\n};\n\n/**\n * Creates Keccak-256 hash of the input, alias for keccak(a, 256)\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.keccak256 = function (a) {\n  return exports.keccak(a);\n};\n\n/**\n * Creates SHA-3 (Keccak) hash of the input [OBSOLETE]\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the SHA-3 width\n * @return {Buffer}\n */\nexports.sha3 = exports.keccak;\n\n/**\n * Creates SHA256 hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.sha256 = function (a) {\n  a = exports.toBuffer(a);\n  return createHash('sha256').update(a).digest();\n};\n\n/**\n * Creates RIPEMD160 hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Boolean} padded whether it should be padded to 256 bits or not\n * @return {Buffer}\n */\nexports.ripemd160 = function (a, padded) {\n  a = exports.toBuffer(a);\n  var hash = createHash('rmd160').update(a).digest();\n  if (padded === true) {\n    return exports.setLength(hash, 32);\n  } else {\n    return hash;\n  }\n};\n\n/**\n * Creates SHA-3 hash of the RLP encoded version of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.rlphash = function (a) {\n  return exports.keccak(rlp.encode(a));\n};\n\n/**\n * Checks if the private key satisfies the rules of the curve secp256k1.\n * @param {Buffer} privateKey\n * @return {Boolean}\n */\nexports.isValidPrivate = function (privateKey) {\n  return secp256k1.privateKeyVerify(privateKey);\n};\n\n/**\n * Checks if the public key satisfies the rules of the curve secp256k1\n * and the requirements of Ethereum.\n * @param {Buffer} publicKey The two points of an uncompressed key, unless sanitize is enabled\n * @param {Boolean} [sanitize=false] Accept public keys in other formats\n * @return {Boolean}\n */\nexports.isValidPublic = function (publicKey, sanitize) {\n  if (publicKey.length === 64) {\n    // Convert to SEC1 for secp256k1\n    return secp256k1.publicKeyVerify(Buffer.concat([Buffer.from([4]), publicKey]));\n  }\n\n  if (!sanitize) {\n    return false;\n  }\n\n  return secp256k1.publicKeyVerify(publicKey);\n};\n\n/**\n * Returns the ethereum address of a given public key.\n * Accepts \"Ethereum public keys\" and SEC1 encoded keys.\n * @param {Buffer} pubKey The two points of an uncompressed key, unless sanitize is enabled\n * @param {Boolean} [sanitize=false] Accept public keys in other formats\n * @return {Buffer}\n */\nexports.pubToAddress = exports.publicToAddress = function (pubKey, sanitize) {\n  pubKey = exports.toBuffer(pubKey);\n  if (sanitize && pubKey.length !== 64) {\n    pubKey = secp256k1.publicKeyConvert(pubKey, false).slice(1);\n  }\n  assert(pubKey.length === 64);\n  // Only take the lower 160bits of the hash\n  return exports.keccak(pubKey).slice(-20);\n};\n\n/**\n * Returns the ethereum public key of a given private key\n * @param {Buffer} privateKey A private key must be 256 bits wide\n * @return {Buffer}\n */\nvar privateToPublic = exports.privateToPublic = function (privateKey) {\n  privateKey = exports.toBuffer(privateKey);\n  // skip the type flag and use the X, Y points\n  return secp256k1.publicKeyCreate(privateKey, false).slice(1);\n};\n\n/**\n * Converts a public key to the Ethereum format.\n * @param {Buffer} publicKey\n * @return {Buffer}\n */\nexports.importPublic = function (publicKey) {\n  publicKey = exports.toBuffer(publicKey);\n  if (publicKey.length !== 64) {\n    publicKey = secp256k1.publicKeyConvert(publicKey, false).slice(1);\n  }\n  return publicKey;\n};\n\n/**\n * ECDSA sign\n * @param {Buffer} msgHash\n * @param {Buffer} privateKey\n * @return {Object}\n */\nexports.ecsign = function (msgHash, privateKey) {\n  var sig = secp256k1.sign(msgHash, privateKey);\n\n  var ret = {};\n  ret.r = sig.signature.slice(0, 32);\n  ret.s = sig.signature.slice(32, 64);\n  ret.v = sig.recovery + 27;\n  return ret;\n};\n\n/**\n * Returns the keccak-256 hash of `message`, prefixed with the header used by the `eth_sign` RPC call.\n * The output of this function can be fed into `ecsign` to produce the same signature as the `eth_sign`\n * call for a given `message`, or fed to `ecrecover` along with a signature to recover the public key\n * used to produce the signature.\n * @param message\n * @returns {Buffer} hash\n */\nexports.hashPersonalMessage = function (message) {\n  var prefix = exports.toBuffer('\\x19Ethereum Signed Message:\\n' + message.length.toString());\n  return exports.keccak(Buffer.concat([prefix, message]));\n};\n\n/**\n * ECDSA public key recovery from signature\n * @param {Buffer} msgHash\n * @param {Number} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @return {Buffer} publicKey\n */\nexports.ecrecover = function (msgHash, v, r, s) {\n  var signature = Buffer.concat([exports.setLength(r, 32), exports.setLength(s, 32)], 64);\n  var recovery = v - 27;\n  if (recovery !== 0 && recovery !== 1) {\n    throw new Error('Invalid signature v value');\n  }\n  var senderPubKey = secp256k1.recover(msgHash, signature, recovery);\n  return secp256k1.publicKeyConvert(senderPubKey, false).slice(1);\n};\n\n/**\n * Convert signature parameters into the format of `eth_sign` RPC method\n * @param {Number} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @return {String} sig\n */\nexports.toRpcSig = function (v, r, s) {\n  // NOTE: with potential introduction of chainId this might need to be updated\n  if (v !== 27 && v !== 28) {\n    throw new Error('Invalid recovery id');\n  }\n\n  // geth (and the RPC eth_sign method) uses the 65 byte format used by Bitcoin\n  // FIXME: this might change in the future - https://github.com/ethereum/go-ethereum/issues/2053\n  return exports.bufferToHex(Buffer.concat([exports.setLengthLeft(r, 32), exports.setLengthLeft(s, 32), exports.toBuffer(v - 27)]));\n};\n\n/**\n * Convert signature format of the `eth_sign` RPC method to signature parameters\n * NOTE: all because of a bug in geth: https://github.com/ethereum/go-ethereum/issues/2053\n * @param {String} sig\n * @return {Object}\n */\nexports.fromRpcSig = function (sig) {\n  sig = exports.toBuffer(sig);\n\n  // NOTE: with potential introduction of chainId this might need to be updated\n  if (sig.length !== 65) {\n    throw new Error('Invalid signature length');\n  }\n\n  var v = sig[64];\n  // support both versions of `eth_sign` responses\n  if (v < 27) {\n    v += 27;\n  }\n\n  return {\n    v: v,\n    r: sig.slice(0, 32),\n    s: sig.slice(32, 64)\n  };\n};\n\n/**\n * Returns the ethereum address of a given private key\n * @param {Buffer} privateKey A private key must be 256 bits wide\n * @return {Buffer}\n */\nexports.privateToAddress = function (privateKey) {\n  return exports.publicToAddress(privateToPublic(privateKey));\n};\n\n/**\n * Checks if the address is a valid. Accepts checksummed addresses too\n * @param {String} address\n * @return {Boolean}\n */\nexports.isValidAddress = function (address) {\n  return (/^0x[0-9a-fA-F]{40}$/.test(address)\n  );\n};\n\n/**\n  * Checks if a given address is a zero address\n  * @method isZeroAddress\n  * @param {String} address\n  * @return {Boolean}\n  */\nexports.isZeroAddress = function (address) {\n  var zeroAddress = exports.zeroAddress();\n  return zeroAddress === exports.addHexPrefix(address);\n};\n\n/**\n * Returns a checksummed address\n * @param {String} address\n * @return {String}\n */\nexports.toChecksumAddress = function (address) {\n  address = exports.stripHexPrefix(address).toLowerCase();\n  var hash = exports.keccak(address).toString('hex');\n  var ret = '0x';\n\n  for (var i = 0; i < address.length; i++) {\n    if (parseInt(hash[i], 16) >= 8) {\n      ret += address[i].toUpperCase();\n    } else {\n      ret += address[i];\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Checks if the address is a valid checksummed address\n * @param {Buffer} address\n * @return {Boolean}\n */\nexports.isValidChecksumAddress = function (address) {\n  return exports.isValidAddress(address) && exports.toChecksumAddress(address) === address;\n};\n\n/**\n * Generates an address of a newly created contract\n * @param {Buffer} from the address which is creating this new address\n * @param {Buffer} nonce the nonce of the from account\n * @return {Buffer}\n */\nexports.generateAddress = function (from, nonce) {\n  from = exports.toBuffer(from);\n  nonce = new BN(nonce);\n\n  if (nonce.isZero()) {\n    // in RLP we want to encode null in the case of zero nonce\n    // read the RLP documentation for an answer if you dare\n    nonce = null;\n  } else {\n    nonce = Buffer.from(nonce.toArray());\n  }\n\n  // Only take the lower 160bits of the hash\n  return exports.rlphash([from, nonce]).slice(-20);\n};\n\n/**\n * Returns true if the supplied address belongs to a precompiled account (Byzantium)\n * @param {Buffer|String} address\n * @return {Boolean}\n */\nexports.isPrecompiled = function (address) {\n  var a = exports.unpad(address);\n  return a.length === 1 && a[0] >= 1 && a[0] <= 8;\n};\n\n/**\n * Adds \"0x\" to a given `String` if it does not already start with \"0x\"\n * @param {String} str\n * @return {String}\n */\nexports.addHexPrefix = function (str) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n\n  return exports.isHexPrefixed(str) ? str : '0x' + str;\n};\n\n/**\n * Validate ECDSA signature\n * @method isValidSignature\n * @param {Buffer} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @param {Boolean} [homestead=true]\n * @return {Boolean}\n */\n\nexports.isValidSignature = function (v, r, s, homestead) {\n  var SECP256K1_N_DIV_2 = new BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n  var SECP256K1_N = new BN('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141', 16);\n\n  if (r.length !== 32 || s.length !== 32) {\n    return false;\n  }\n\n  if (v !== 27 && v !== 28) {\n    return false;\n  }\n\n  r = new BN(r);\n  s = new BN(s);\n\n  if (r.isZero() || r.gt(SECP256K1_N) || s.isZero() || s.gt(SECP256K1_N)) {\n    return false;\n  }\n\n  if (homestead === false && new BN(s).cmp(SECP256K1_N_DIV_2) === 1) {\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * Converts a `Buffer` or `Array` to JSON\n * @param {Buffer|Array} ba\n * @return {Array|String|null}\n */\nexports.baToJSON = function (ba) {\n  if (Buffer.isBuffer(ba)) {\n    return '0x' + ba.toString('hex');\n  } else if (ba instanceof Array) {\n    var array = [];\n    for (var i = 0; i < ba.length; i++) {\n      array.push(exports.baToJSON(ba[i]));\n    }\n    return array;\n  }\n};\n\n/**\n * Defines properties on a `Object`. It make the assumption that underlying data is binary.\n * @param {Object} self the `Object` to define properties on\n * @param {Array} fields an array fields to define. Fields can contain:\n * * `name` - the name of the properties\n * * `length` - the number of bytes the field can have\n * * `allowLess` - if the field can be less than the length\n * * `allowEmpty`\n * @param {*} data data to be validated against the definitions\n */\nexports.defineProperties = function (self, fields, data) {\n  self.raw = [];\n  self._fields = [];\n\n  // attach the `toJSON`\n  self.toJSON = function (label) {\n    if (label) {\n      var obj = {};\n      self._fields.forEach(function (field) {\n        obj[field] = '0x' + self[field].toString('hex');\n      });\n      return obj;\n    }\n    return exports.baToJSON(this.raw);\n  };\n\n  self.serialize = function serialize() {\n    return rlp.encode(self.raw);\n  };\n\n  fields.forEach(function (field, i) {\n    self._fields.push(field.name);\n    function getter() {\n      return self.raw[i];\n    }\n    function setter(v) {\n      v = exports.toBuffer(v);\n\n      if (v.toString('hex') === '00' && !field.allowZero) {\n        v = Buffer.allocUnsafe(0);\n      }\n\n      if (field.allowLess && field.length) {\n        v = exports.stripZeros(v);\n        assert(field.length >= v.length, 'The field ' + field.name + ' must not have more ' + field.length + ' bytes');\n      } else if (!(field.allowZero && v.length === 0) && field.length) {\n        assert(field.length === v.length, 'The field ' + field.name + ' must have byte length of ' + field.length);\n      }\n\n      self.raw[i] = v;\n    }\n\n    Object.defineProperty(self, field.name, {\n      enumerable: true,\n      configurable: true,\n      get: getter,\n      set: setter\n    });\n\n    if (field.default) {\n      self[field.name] = field.default;\n    }\n\n    // attach alias\n    if (field.alias) {\n      Object.defineProperty(self, field.alias, {\n        enumerable: false,\n        configurable: true,\n        set: setter,\n        get: getter\n      });\n    }\n  });\n\n  // if the constuctor is passed data\n  if (data) {\n    if (typeof data === 'string') {\n      data = Buffer.from(exports.stripHexPrefix(data), 'hex');\n    }\n\n    if (Buffer.isBuffer(data)) {\n      data = rlp.decode(data);\n    }\n\n    if (Array.isArray(data)) {\n      if (data.length > self._fields.length) {\n        throw new Error('wrong number of fields in data');\n      }\n\n      // make sure all the items are buffers\n      data.forEach(function (d, i) {\n        self[self._fields[i]] = exports.toBuffer(d);\n      });\n    } else if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n      var keys = Object.keys(data);\n      fields.forEach(function (field) {\n        if (keys.indexOf(field.name) !== -1) self[field.name] = data[field.name];\n        if (keys.indexOf(field.alias) !== -1) self[field.alias] = data[field.alias];\n      });\n    } else {\n      throw new Error('invalid data');\n    }\n  }\n};","const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\n\nmodule.exports = Stoplight\n\n\ninherits(Stoplight, EventEmitter)\n\nfunction Stoplight(){\n  const self = this\n  EventEmitter.call(self)\n  self.isLocked = true\n}\n\nStoplight.prototype.go = function(){\n  const self = this\n  self.isLocked = false\n  self.emit('unlock')\n}\n\nStoplight.prototype.stop = function(){\n  const self = this\n  self.isLocked = true\n  self.emit('lock')\n}\n\nStoplight.prototype.await = function(fn){\n  const self = this\n  if (self.isLocked) {\n    self.once('unlock', fn)\n  } else {\n    setTimeout(fn)\n  }\n}","const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload,\n}\n\nfunction cacheIdentifierForPayload(payload, opts = {}){\n  if (!canCache(payload)) return null\n  const { includeBlockRef } = opts\n  const params = includeBlockRef ? payload.params : paramsWithoutBlockTag(payload)\n  return payload.method + ':' + stringify(params)\n}\n\nfunction canCache(payload){\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null;\n  }\n\n  return payload.params[index];\n}\n\nfunction paramsWithoutBlockTag(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params;\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1);\n  }\n\n  return payload.params.slice(0,index);\n}\n\nfunction blockTagParamIndex(payload){\n  switch(payload.method) {\n    // blockTag is third param\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is second param\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n      return 1\n    // blockTag is first param\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload(payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'eth_blockNumber':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n      return 'never'\n  }\n}\n","// gotta keep it within MAX_SAFE_INTEGER\nconst extraDigits = 3\n\nmodule.exports = createRandomId\n\n\nfunction createRandomId(){\n  // 13 time digits\n  var datePart = new Date().getTime()*Math.pow(10, extraDigits)\n  // 3 random digits\n  var extraPart = Math.floor(Math.random()*Math.pow(10, extraDigits))\n  // 16 digits\n  return datePart+extraPart\n}","const getRandomId = require('./random-id.js')\nconst extend = require('xtend')\n\nmodule.exports = createPayload\n\n\nfunction createPayload(data){\n  return extend({\n    // defaults\n    id: getRandomId(),\n    jsonrpc: '2.0',\n    params: [],\n    // user-specified\n  }, data)\n}\n","const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst EthBlockTracker = require('eth-block-tracker')\nconst map = require('async/map')\nconst eachSeries = require('async/eachSeries')\nconst Stoplight = require('./util/stoplight.js')\nconst cacheUtils = require('./util/rpc-cache-utils.js')\nconst createPayload = require('./util/create-payload.js')\nconst noop = function(){}\n\nmodule.exports = Web3ProviderEngine\n\n\ninherits(Web3ProviderEngine, EventEmitter)\n\n// fix for web3.js\nObject.defineProperty(Web3ProviderEngine, 'name', { value: 'HttpProvider' })\n\nfunction Web3ProviderEngine(opts) {\n  const self = this\n  EventEmitter.call(self)\n  self.setMaxListeners(30)\n  // parse options\n  opts = opts || {}\n\n  // block polling\n  const directProvider = { sendAsync: self._handleAsync.bind(self) }\n  const blockTrackerProvider = opts.blockTrackerProvider || directProvider\n  self._blockTracker = opts.blockTracker || new EthBlockTracker({\n    provider: blockTrackerProvider,\n    pollingInterval: opts.pollingInterval || 4000,\n    setSkipCacheFlag: true,\n  })\n\n  // set initialization blocker\n  self._ready = new Stoplight()\n\n  // local state\n  self.currentBlock = null\n  self._providers = []\n}\n\n// public\n\nWeb3ProviderEngine.prototype.start = function(cb = noop){\n  const self = this\n\n  // trigger start\n  self._ready.go()\n\n  // on new block, request block body and emit as events\n  self._blockTracker.on('latest', (blockNumber) => {\n    // get block body\n    self._getBlockByNumber(blockNumber, (err, block) => {\n      if (err) {\n        this.emit('error', err)\n        return\n      }\n      if (!block) {\n        return\n      }\n      const bufferBlock = toBufferBlock(block)\n      // set current + emit \"block\" event\n      self._setCurrentBlock(bufferBlock)\n      // emit other events\n      self.emit('rawBlock', block)\n      self.emit('latest', block)\n    })\n  })\n\n  // forward other events\n  self._blockTracker.on('sync', self.emit.bind(self, 'sync'))\n  self._blockTracker.on('error', self.emit.bind(self, 'error'))\n\n  // update state\n  self._running = true\n  // signal that we started\n  self.emit('start')\n}\n\nWeb3ProviderEngine.prototype.stop = function(){\n  const self = this\n  // stop block polling by removing event listeners\n  self._blockTracker.removeAllListeners()\n  // update state\n  self._running = false\n  // signal that we stopped\n  self.emit('stop')\n}\n\nWeb3ProviderEngine.prototype.isRunning = function(){\n  const self = this\n  return self._running\n}\n\nWeb3ProviderEngine.prototype.addProvider = function(source, index){\n  const self = this\n  if (typeof index === 'number') {\n    self._providers.splice(index, 0, source)\n  } else {\n    self._providers.push(source)\n  }\n  source.setEngine(this)\n}\n\nWeb3ProviderEngine.prototype.removeProvider = function(source){\n  const self = this\n  const index = self._providers.indexOf(source)\n  if (index < 0) throw new Error('Provider not found.')\n  self._providers.splice(index, 1)\n}\n\nWeb3ProviderEngine.prototype.send = function(payload){\n  throw new Error('Web3ProviderEngine does not support synchronous requests.')\n}\n\nWeb3ProviderEngine.prototype.sendAsync = function(payload, cb){\n  const self = this\n  self._ready.await(function(){\n\n    if (Array.isArray(payload)) {\n      // handle batch\n      map(payload, self._handleAsync.bind(self), cb)\n    } else {\n      // handle single\n      self._handleAsync(payload, cb)\n    }\n\n  })\n}\n\n// private\n\nWeb3ProviderEngine.prototype._getBlockByNumber = function(blockNumber, cb) {\n  const req = createPayload({ method: 'eth_getBlockByNumber', params: [blockNumber, false], skipCache: true })\n  this._handleAsync(req, (err, res) => {\n    if (err) return cb(err)\n    return cb(null, res.result)\n  })\n}\n\nWeb3ProviderEngine.prototype._handleAsync = function(payload, finished) {\n  var self = this\n  var currentProvider = -1\n  var result = null\n  var error = null\n\n  var stack = []\n\n  next()\n\n  function next(after) {\n    currentProvider += 1\n    stack.unshift(after)\n\n    // Bubbled down as far as we could go, and the request wasn't\n    // handled. Return an error.\n    if (currentProvider >= self._providers.length) {\n      end(new Error('Request for method \"' + payload.method + '\" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'))\n    } else {\n      try {\n        var provider = self._providers[currentProvider]\n        provider.handleRequest(payload, next, end)\n      } catch (e) {\n        end(e)\n      }\n    }\n  }\n\n  function end(_error, _result) {\n    error = _error\n    result = _result\n\n    eachSeries(stack, function(fn, callback) {\n\n      if (fn) {\n        fn(error, result, callback)\n      } else {\n        callback()\n      }\n    }, function() {\n\n      var resultObj = {\n        id: payload.id,\n        jsonrpc: payload.jsonrpc,\n        result: result\n      }\n\n      if (error != null) {\n        resultObj.error = {\n          message: error.stack || error.message || error,\n          code: -32000\n        }\n        // respond with both error formats\n        finished(error, resultObj)\n      } else {\n        finished(null, resultObj)\n      }\n    })\n  }\n}\n\n//\n// from remote-data\n//\n\nWeb3ProviderEngine.prototype._setCurrentBlock = function(block){\n  const self = this\n  self.currentBlock = block\n  self.emit('block', block)\n}\n\n// util\n\nfunction toBufferBlock (jsonBlock) {\n  return {\n    number:           ethUtil.toBuffer(jsonBlock.number),\n    hash:             ethUtil.toBuffer(jsonBlock.hash),\n    parentHash:       ethUtil.toBuffer(jsonBlock.parentHash),\n    nonce:            ethUtil.toBuffer(jsonBlock.nonce),\n    mixHash:          ethUtil.toBuffer(jsonBlock.mixHash),\n    sha3Uncles:       ethUtil.toBuffer(jsonBlock.sha3Uncles),\n    logsBloom:        ethUtil.toBuffer(jsonBlock.logsBloom),\n    transactionsRoot: ethUtil.toBuffer(jsonBlock.transactionsRoot),\n    stateRoot:        ethUtil.toBuffer(jsonBlock.stateRoot),\n    receiptsRoot:     ethUtil.toBuffer(jsonBlock.receiptRoot || jsonBlock.receiptsRoot),\n    miner:            ethUtil.toBuffer(jsonBlock.miner),\n    difficulty:       ethUtil.toBuffer(jsonBlock.difficulty),\n    totalDifficulty:  ethUtil.toBuffer(jsonBlock.totalDifficulty),\n    size:             ethUtil.toBuffer(jsonBlock.size),\n    extraData:        ethUtil.toBuffer(jsonBlock.extraData),\n    gasLimit:         ethUtil.toBuffer(jsonBlock.gasLimit),\n    gasUsed:          ethUtil.toBuffer(jsonBlock.gasUsed),\n    timestamp:        ethUtil.toBuffer(jsonBlock.timestamp),\n    transactions:     jsonBlock.transactions,\n  }\n}\n","const createPayload = require('../util/create-payload.js')\n\nmodule.exports = SubProvider\n\n// this is the base class for a subprovider -- mostly helpers\n\n\nfunction SubProvider() {\n\n}\n\nSubProvider.prototype.setEngine = function(engine) {\n  const self = this\n  if (self.engine) return\n  self.engine = engine\n  engine.on('block', function(block) {\n    self.currentBlock = block\n  })\n\n  engine.on('start', function () {\n    self.start()\n  })\n\n  engine.on('stop', function () {\n    self.stop()\n  })\n}\n\nSubProvider.prototype.handleRequest = function(payload, next, end) {\n  throw new Error('Subproviders should override `handleRequest`.')\n}\n\nSubProvider.prototype.emitPayload = function(payload, cb){\n  const self = this\n  self.engine.sendAsync(createPayload(payload), cb)\n}\n\n// dummies for overriding\n\nSubProvider.prototype.stop = function () {}\n\nSubProvider.prototype.start = function () {}\n","const Subprovider = require('./subprovider.js')\n\n// wraps a json-rpc-engine middleware in a subprovider interface\n\nclass JsonRpcEngineMiddlewareSubprovider extends Subprovider {\n\n  // take a constructorFn to call once we have a reference to the engine\n  constructor (constructorFn) {\n    super()\n    if (!constructorFn) throw new Error('JsonRpcEngineMiddlewareSubprovider - no constructorFn specified')\n    this._constructorFn = constructorFn\n  }\n\n  // this is called once the subprovider has been added to the provider engine\n  setEngine (engine) {\n    if (this.middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice')\n    const blockTracker = engine._blockTracker\n    const middleware = this._constructorFn({ engine, provider: engine, blockTracker })\n    if (!middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware')\n    if (typeof middleware !== 'function') throw new Error('JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function')\n    this.middleware = middleware\n  }\n\n  handleRequest (req, provEngNext, provEngEnd) {\n    const res = { id: req.id }\n    this.middleware(req, res, middlewareNext, middlewareEnd)\n\n    function middlewareNext (handler) {\n      provEngNext((err, result, cb) => {\n        // update response object with result or error\n        if (err) {\n          delete res.result\n          res.error = { message: err.message || err }\n        } else {\n          res.result = result\n        }\n        // call middleware's next handler (even if error)\n        if (handler) {\n          handler(cb)\n        } else {\n          cb()\n        }\n      })\n    }\n\n    function middlewareEnd (err) {\n      if (err) return provEngEnd(err)\n      provEngEnd(null, res.result)\n    }\n  }\n\n}\n\nmodule.exports = JsonRpcEngineMiddlewareSubprovider\n","const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload\n}\n\nfunction cacheIdentifierForPayload (payload, skipBlockRef) {\n  const simpleParams = skipBlockRef ? paramsWithoutBlockTag(payload) : payload.params\n  if (canCache(payload)) {\n    return payload.method + ':' + stringify(simpleParams)\n  } else {\n    return null\n  }\n}\n\nfunction canCache (payload) {\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload (payload) {\n  let index = blockTagParamIndex(payload)\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null\n  }\n\n  return payload.params[index]\n}\n\nfunction paramsWithoutBlockTag (payload) {\n  const index = blockTagParamIndex(payload)\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1)\n  }\n\n  return payload.params.slice(0, index)\n}\n\nfunction blockTagParamIndex (payload) {\n  switch (payload.method) {\n    // blockTag is at index 2\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is at index 1\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n      return 1\n    // blockTag is at index 0\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload (payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n    case 'test_permaCache':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n    case 'test_forkCache':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_blockNumber':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'test_blockCache':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n    case 'test_neverCache':\n      return 'never'\n  }\n}\n","const cacheUtils = require('./cache-utils.js')\nconst createAsyncMiddleware = require('json-rpc-engine/src/createAsyncMiddleware')\n// `<nil>` comes from https://github.com/ethereum/go-ethereum/issues/16925\nconst emptyValues = [undefined, null, '\\u003cnil\\u003e']\n\nmodule.exports = createBlockCacheMiddleware\n\n\nfunction createBlockCacheMiddleware(opts = {}) {\n  // validate options\n  const { blockTracker } = opts\n  if (!blockTracker) throw new Error('createBlockCacheMiddleware - No BlockTracker specified')\n\n  // create caching strategies\n  const blockCache = new BlockCacheStrategy()\n  const strategies = {\n    perma: blockCache,\n    block: blockCache,\n    fork: blockCache,\n  }\n\n  return createAsyncMiddleware(async (req, res, next) => {\n    // allow cach to be skipped if so specified\n    if (req.skipCache) {\n      return next()\n    }\n    // check type and matching strategy\n    const type = cacheUtils.cacheTypeForPayload(req)\n    const strategy = strategies[type]\n    // If there's no strategy in place, pass it down the chain.\n    if (!strategy) {\n      return next()\n    }\n    // If the strategy can't cache this request, ignore it.\n    if (!strategy.canCacheRequest(req)) {\n      return next()\n    }\n\n    // get block reference (number or keyword)\n    let blockTag = cacheUtils.blockTagForPayload(req)\n    if (!blockTag) blockTag = 'latest'\n\n    // get exact block number\n    let requestedBlockNumber\n    if (blockTag === 'earliest') {\n      // this just exists for symmetry with \"latest\"\n      requestedBlockNumber = '0x00'\n    } else if (blockTag === 'latest') {\n      // fetch latest block number\n      const latestBlockNumber = await blockTracker.getLatestBlock()\n      // clear all cache before latest block\n      blockCache.clearBefore(latestBlockNumber)\n      requestedBlockNumber = latestBlockNumber\n    } else {\n      // We have a hex number\n      requestedBlockNumber = blockTag\n    }\n\n    // end on a hit, continue on a miss\n    const cacheResult = await strategy.get(req, requestedBlockNumber)\n    if (cacheResult === undefined) {\n      // cache miss\n      // wait for other middleware to handle request\n      await next()\n      // add result to cache\n      await strategy.set(req, requestedBlockNumber, res.result)\n    } else {\n      // fill in result from cache\n      res.result = cacheResult\n    }\n  })\n}\n\n\n//\n// Cache Strategies\n//\n\nclass BlockCacheStrategy {\n  \n  constructor () {\n    this.cache = {}\n  }\n\n  getBlockCacheForPayload (payload, blockNumberHex) {\n    const blockNumber = Number.parseInt(blockNumberHex, 16)\n    let blockCache = this.cache[blockNumber]\n    // create new cache if necesary\n    if (!blockCache) {\n      const newCache = {}\n      this.cache[blockNumber] = newCache\n      blockCache = newCache\n    }\n    return blockCache\n  }\n\n  async get (payload, requestedBlockNumber) {\n    // lookup block cache\n    const blockCache = this.getBlockCacheForPayload(payload, requestedBlockNumber)\n    if (!blockCache) return\n    // lookup payload in block cache\n    const identifier = cacheUtils.cacheIdentifierForPayload(payload, true)\n    const cached = blockCache[identifier]\n    // may be undefined\n    return cached\n  }\n\n  async set (payload, requestedBlockNumber, result) {\n    // check if we can cached this result\n    const canCache = this.canCacheResult(payload, result)\n    if (!canCache) return\n    // set the value in the cache\n    const blockCache = this.getBlockCacheForPayload(payload, requestedBlockNumber)\n    const identifier = cacheUtils.cacheIdentifierForPayload(payload, true)\n    blockCache[identifier] = result\n  }\n\n  canCacheRequest (payload) {\n    // check request method\n    if (!cacheUtils.canCache(payload)) {\n      return false\n    }\n    // check blockTag\n    const blockTag = cacheUtils.blockTagForPayload(payload)\n    if (blockTag === 'pending') {\n      return false\n    }\n    // can be cached\n    return true\n  }\n\n  canCacheResult (payload, result) {\n    // never cache empty values (e.g. undefined)\n    if (emptyValues.includes(result)) return\n    // check if transactions have block reference before caching\n    if (['eth_getTransactionByHash', 'eth_getTransactionReceipt'].includes(payload.method)) {\n      if (!result || !result.blockHash || result.blockHash === '0x0000000000000000000000000000000000000000000000000000000000000000') {\n        return false\n      }\n    }\n    // otherwise true\n    return true\n  }\n\n  // removes all block caches with block number lower than `oldBlockHex`\n  clearBefore (oldBlockHex){\n    const self = this\n    const oldBlockNumber = Number.parseInt(oldBlockHex, 16)\n    // clear old caches\n    Object.keys(self.cache)\n      .map(Number)\n      .filter(num => num < oldBlockNumber)\n      .forEach(num => delete self.cache[num])\n  }\n\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createBlockCacheMiddleware = require('@portis/eth-json-rpc-middleware/block-cache')\n\nclass BlockCacheSubprovider extends ProviderSubprovider {\n  constructor(opts) {\n    super(({ blockTracker }) => createBlockCacheMiddleware(Object.assign({ blockTracker }, opts)))\n  }\n}\n\nmodule.exports = BlockCacheSubprovider\n","const inherits = require('util').inherits\nconst Subprovider = require('./subprovider.js')\n\nmodule.exports = FixtureProvider\n\ninherits(FixtureProvider, Subprovider)\n\nfunction FixtureProvider(staticResponses){\n  const self = this\n  staticResponses = staticResponses || {}\n  self.staticResponses = staticResponses\n}\n\nFixtureProvider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  var staticResponse = self.staticResponses[payload.method]\n  // async function\n  if ('function' === typeof staticResponse) {\n    staticResponse(payload, next, end)\n  // static response - null is valid response\n  } else if (staticResponse !== undefined) {\n    // return result asynchronously\n    setTimeout(() => end(null, staticResponse))\n  // no prepared response - skip\n  } else {\n    next()\n  }\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createFilterMiddleware = require('eth-json-rpc-filters')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      return createFilterMiddleware({ blockTracker, provider })\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","const createPayload = require('./create-payload.js')\n\nmodule.exports = estimateGas\n\n/*\n\nThis is a work around for https://github.com/ethereum/go-ethereum/issues/2577\n\n*/\n\n\nfunction estimateGas(provider, txParams, cb) {\n  provider.sendAsync(createPayload({\n    method: 'eth_estimateGas',\n    params: [txParams]\n  }), function(err, res){\n    if (err) {\n      // handle simple value transfer case\n      if (err.message === 'no contract code at given address') {\n        return cb(null, '0xcf08')\n      } else {\n        return cb(err)        \n      }\n    }\n    cb(null, res.result)\n  })\n}","/*\n * Emulate 'eth_accounts' / 'eth_sendTransaction' using 'eth_sendRawTransaction'\n *\n * The two callbacks a user needs to implement are:\n * - getAccounts() -- array of addresses supported\n * - signTransaction(tx) -- sign a raw transaction object\n */\n\nconst waterfall = require('async/waterfall')\nconst parallel = require('async/parallel')\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst sigUtil = require('eth-sig-util')\nconst extend = require('xtend')\nconst Semaphore = require('semaphore')\nconst Subprovider = require('./subprovider.js')\nconst estimateGas = require('../util/estimate-gas.js')\nconst hexRegex = /^[0-9A-Fa-f]+$/g\n\nmodule.exports = HookedWalletSubprovider\n\n// handles the following RPC methods:\n//   eth_coinbase\n//   eth_accounts\n//   eth_sendTransaction\n//   eth_sign\n//   eth_signTypedData\n//   personal_sign\n//   personal_ecRecover\n//   parity_postTransaction\n//   parity_checkRequest\n//   parity_defaultAccount\n\n//\n// Tx Signature Flow\n//\n// handleRequest: eth_sendTransaction\n//   validateTransaction (basic validity check)\n//     validateSender (checks that sender is in accounts)\n//   processTransaction (sign tx and submit to network)\n//     approveTransaction (UI approval hook)\n//     checkApproval\n//     finalizeAndSubmitTx (tx signing)\n//       nonceLock.take (bottle neck to ensure atomic nonce)\n//         fillInTxExtras (set fallback gasPrice, nonce, etc)\n//         signTransaction (perform the signature)\n//         publishTransaction (publish signed tx to network)\n//\n\n\ninherits(HookedWalletSubprovider, Subprovider)\n\nfunction HookedWalletSubprovider(opts){\n  const self = this\n  // control flow\n  self.nonceLock = Semaphore(1)\n\n  // data lookup\n  if (opts.getAccounts) self.getAccounts = opts.getAccounts\n  // high level override\n  if (opts.processTransaction) self.processTransaction = opts.processTransaction\n  if (opts.processMessage) self.processMessage = opts.processMessage\n  if (opts.processPersonalMessage) self.processPersonalMessage = opts.processPersonalMessage\n  if (opts.processTypedMessage) self.processTypedMessage = opts.processTypedMessage\n  if (opts.processTypedMessageV3) self.processTypedMessageV3 = opts.processTypedMessageV3\n  // approval hooks\n  self.approveTransaction = opts.approveTransaction || self.autoApprove\n  self.approveMessage = opts.approveMessage || self.autoApprove\n  self.approvePersonalMessage = opts.approvePersonalMessage || self.autoApprove\n  self.approveTypedMessage = opts.approveTypedMessage || self.autoApprove\n  self.approveTypedMessageV3 = opts.approveTypedMessageV3 || self.autoApprove\n  // actually perform the signature\n  if (opts.signTransaction) self.signTransaction = opts.signTransaction  || mustProvideInConstructor('signTransaction')\n  if (opts.signMessage) self.signMessage = opts.signMessage  || mustProvideInConstructor('signMessage')\n  if (opts.signPersonalMessage) self.signPersonalMessage = opts.signPersonalMessage  || mustProvideInConstructor('signPersonalMessage')\n  if (opts.signTypedMessage) self.signTypedMessage = opts.signTypedMessage  || mustProvideInConstructor('signTypedMessage')\n  if (opts.signTypedMessageV3) self.signTypedMessageV3 = opts.signTypedMessageV3  || mustProvideInConstructor('signTypedMessageV3')\n  if (opts.recoverPersonalSignature) self.recoverPersonalSignature = opts.recoverPersonalSignature\n  // publish to network\n  if (opts.publishTransaction) self.publishTransaction = opts.publishTransaction\n  // gas options\n  self.estimateGas = opts.estimateGas || self.estimateGas\n  self.getGasPrice = opts.getGasPrice || self.getGasPrice\n}\n\nHookedWalletSubprovider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n  self._parityRequests = {}\n  self._parityRequestCount = 0\n\n  // switch statement is not block scoped\n  // sp we cant repeat var declarations\n  let txParams, msgParams, extraParams\n  let message, address\n\n  switch(payload.method) {\n\n    case 'eth_coinbase':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        let result = accounts[0] || null\n        end(null, result)\n      })\n      return\n\n    case 'eth_accounts':\n      // process normally\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        end(null, accounts)\n      })\n      return\n\n    case 'eth_sendTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_signTransaction':\n      txParams = payload.params[0]\n      waterfall([\n        (cb) => self.validateTransaction(txParams, cb),\n        (cb) => self.processSignTransaction(txParams, cb),\n      ], end)\n      return\n\n    case 'eth_sign':\n      // process normally\n      if (resemblesData(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n      // good place for metadata\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateMessage(msgParams, cb),\n        (cb) => self.processMessage(msgParams, cb),\n      ], end)\n      return\n\n    case 'personal_sign':\n      return (function(){\n        // process normally\n        const first = payload.params[0]\n        const second = payload.params[1]\n\n        // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n        if (resemblesData(second) && resemblesAddress(first)) {\n          let warning = `The eth_personalSign method requires params ordered `\n          warning += `[message, address]. This was previously handled incorrectly, `\n          warning += `and has been corrected automatically. `\n          warning += `Please switch this param order for smooth behavior in the future.`\n          console.warn(warning)\n\n          address = payload.params[0]\n          message = payload.params[1]\n        } else {\n          message = payload.params[0]\n          address = payload.params[1]\n        }\n\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message,\n        })\n        waterfall([\n          (cb) => self.validatePersonalMessage(msgParams, cb),\n          (cb) => self.processPersonalMessage(msgParams, cb),\n        ], end)\n      })()\n\n    case 'personal_ecRecover':\n      return (function(){\n        message = payload.params[0]\n        let signature = payload.params[1]\n        // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n        extraParams = payload.params[2] || {}\n        msgParams = extend(extraParams, {\n          sig: signature,\n          data: message,\n        })\n        self.recoverPersonalSignature(msgParams, end)\n      })()\n\n    case 'eth_signTypedData':\n      // process normally\n      if (!resemblesAddress(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateTypedMessage(msgParams, cb),\n        (cb) => self.processTypedMessage(msgParams, cb),\n      ], end)\n      return\n\n    case 'eth_signTypedData_v3':\n      // process normally\n      if (!resemblesAddress(payload.params[1]) && resemblesAddress(payload.params[0])) {\n        address = payload.params[0]\n        message = payload.params[1]\n      } else {\n        message = payload.params[0]\n        address = payload.params[1]\n      }\n\n      extraParams = payload.params[2] || {}\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message,\n      })\n      waterfall([\n        (cb) => self.validateTypedMessageV3(msgParams, cb),\n        (cb) => self.processTypedMessageV3(msgParams, cb),\n      ], end)\n      return\n\n    case 'parity_postTransaction':\n      txParams = payload.params[0]\n      self.parityPostTransaction(txParams, end)\n      return\n\n    case 'parity_postSign':\n      address = payload.params[0]\n      message = payload.params[1]\n      self.parityPostSign(address, message, end)\n      return\n\n    case 'parity_checkRequest':\n      return (function(){\n        const requestId = payload.params[0]\n        self.parityCheckRequest(requestId, end)\n      })()\n\n    case 'parity_defaultAccount':\n      self.getAccounts(function(err, accounts){\n        if (err) return end(err)\n        const account = accounts[0] || null\n        end(null, account)\n      })\n      return\n\n    default:\n      next()\n      return\n\n  }\n}\n\n//\n// data lookup\n//\n\nHookedWalletSubprovider.prototype.getAccounts = function(cb) {\n  cb(null, [])\n}\n\n\n//\n// \"process\" high level flow\n//\n\nHookedWalletSubprovider.prototype.processTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeAndSubmitTx(txParams, cb),\n  ], cb)\n}\n\n\nHookedWalletSubprovider.prototype.processSignTransaction = function(txParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTransaction(txParams, cb),\n    (didApprove, cb) => self.checkApproval('transaction', didApprove, cb),\n    (cb) => self.finalizeTx(txParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processPersonalMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approvePersonalMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signPersonalMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processTypedMessage = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTypedMessage(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signTypedMessage(msgParams, cb),\n  ], cb)\n}\n\nHookedWalletSubprovider.prototype.processTypedMessageV3 = function(msgParams, cb) {\n  const self = this\n  waterfall([\n    (cb) => self.approveTypedMessageV3(msgParams, cb),\n    (didApprove, cb) => self.checkApproval('message', didApprove, cb),\n    (cb) => self.signTypedMessageV3(msgParams, cb),\n  ], cb)\n}\n\n//\n// approval\n//\n\nHookedWalletSubprovider.prototype.autoApprove = function(txParams, cb) {\n  cb(null, true)\n}\n\nHookedWalletSubprovider.prototype.checkApproval = function(type, didApprove, cb) {\n  cb( didApprove ? null : new Error('User denied '+type+' signature.') )\n}\n\n//\n// parity\n//\n\nHookedWalletSubprovider.prototype.parityPostTransaction = function(txParams, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sendTransaction',\n    params: [txParams],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const txHash = res.result\n    self._parityRequests[reqId] = txHash\n  })\n\n  cb(null, reqId)\n}\n\n\nHookedWalletSubprovider.prototype.parityPostSign = function(address, message, cb) {\n  const self = this\n\n  // get next id\n  const count = self._parityRequestCount\n  const reqId = `0x${count.toString(16)}`\n  self._parityRequestCount++\n\n  self.emitPayload({\n    method: 'eth_sign',\n    params: [address, message],\n  }, function(error, res){\n    if (error) {\n      self._parityRequests[reqId] = { error }\n      return\n    }\n    const result = res.result\n    self._parityRequests[reqId] = result\n  })\n\n  cb(null, reqId)\n}\n\nHookedWalletSubprovider.prototype.parityCheckRequest = function(reqId, cb) {\n  const self = this\n  const result = self._parityRequests[reqId] || null\n  // tx not handled yet\n  if (!result) return cb(null, null)\n  // tx was rejected (or other error)\n  if (result.error) return cb(result.error)\n  // tx sent\n  cb(null, result)\n}\n\n//\n// signature and recovery\n//\n\nHookedWalletSubprovider.prototype.recoverPersonalSignature = function(msgParams, cb) {\n  let senderHex\n  try {\n    senderHex = sigUtil.recoverPersonalSignature(msgParams)\n  } catch (err) {\n    return cb(err)\n  }\n  cb(null, senderHex)\n}\n\n//\n// validation\n//\n\nHookedWalletSubprovider.prototype.validateTransaction = function(txParams, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (txParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign transaction.`))\n  self.validateSender(txParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign transaction for this address: \"${txParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign message.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validatePersonalMessage = function(msgParams, cb){\n  const self = this\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign personal message.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined message - message required to sign personal message.`))\n  if (!isValidHex(msgParams.data)) return cb(new Error(`HookedWalletSubprovider - validateMessage - message was not encoded as hex.`))\n  self.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateTypedMessage = function(msgParams, cb){\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign typed data.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined data - message required to sign typed data.`))\n  this.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateTypedMessageV3 = function(msgParams, cb){\n  if (msgParams.from === undefined) return cb(new Error(`Undefined address - from address required to sign typed data.`))\n  if (msgParams.data === undefined) return cb(new Error(`Undefined data - message required to sign typed data.`))\n  this.validateSender(msgParams.from, function(err, senderIsValid){\n    if (err) return cb(err)\n    if (!senderIsValid) return cb(new Error(`Unknown address - unable to sign message for this address: \"${msgParams.from}\"`))\n    cb()\n  })\n}\n\nHookedWalletSubprovider.prototype.validateSender = function(senderAddress, cb){\n  const self = this\n  // shortcut: undefined sender is invalid\n  if (!senderAddress) return cb(null, false)\n  self.getAccounts(function(err, accounts){\n    if (err) return cb(err)\n    const senderIsValid = (accounts.map(toLowerCase).indexOf(senderAddress.toLowerCase()) !== -1)\n    cb(null, senderIsValid)\n  })\n}\n\n//\n// tx helpers\n//\n\nHookedWalletSubprovider.prototype.finalizeAndSubmitTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n      self.publishTransaction.bind(self),\n    ], function(err, txHash){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, txHash)\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.finalizeTx = function(txParams, cb) {\n  const self = this\n  // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n  self.nonceLock.take(function(){\n    waterfall([\n      self.fillInTxExtras.bind(self, txParams),\n      self.signTransaction.bind(self),\n    ], function(err, signedTx){\n      self.nonceLock.leave()\n      if (err) return cb(err)\n      cb(null, {raw: signedTx, tx: txParams})\n    })\n  })\n}\n\nHookedWalletSubprovider.prototype.publishTransaction = function(rawTx, cb) {\n  const self = this\n  self.emitPayload({\n    method: 'eth_sendRawTransaction',\n    params: [rawTx],\n  }, function(err, res){\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.estimateGas = function(txParams, cb) {\n  const self = this\n  estimateGas(self.engine, txParams, cb)\n}\n\nHookedWalletSubprovider.prototype.getGasPrice = function(cb) {\n  const self = this\n  self.emitPayload({ method: 'eth_gasPrice', params: [] }, function (err, res) {\n    if (err) return cb(err)\n    cb(null, res.result)\n  })\n}\n\nHookedWalletSubprovider.prototype.fillInTxExtras = function(txParams, cb){\n  const self = this\n  const address = txParams.from\n  // console.log('fillInTxExtras - address:', address)\n\n  const tasks = {}\n\n  if (txParams.gasPrice === undefined) {\n    // console.log(\"need to get gasprice\")\n    tasks.gasPrice = self.getGasPrice.bind(self)\n  }\n\n  if (txParams.nonce === undefined) {\n    // console.log(\"need to get nonce\")\n    tasks.nonce = self.emitPayload.bind(self, { method: 'eth_getTransactionCount', params: [address, 'pending'] })\n  }\n\n  if (txParams.gas === undefined) {\n    // console.log(\"need to get gas\")\n    tasks.gas = self.estimateGas.bind(self, cloneTxParams(txParams))\n  }\n\n  parallel(tasks, function(err, taskResults) {\n    if (err) return cb(err)\n\n    const result = {}\n    if (taskResults.gasPrice) result.gasPrice = taskResults.gasPrice\n    if (taskResults.nonce) result.nonce = taskResults.nonce.result\n    if (taskResults.gas) result.gas = taskResults.gas\n\n    cb(null, extend(txParams, result))\n  })\n}\n\n// util\n\n// we use this to clean any custom params from the txParams\nfunction cloneTxParams(txParams){\n  return {\n    from: txParams.from,\n    to: txParams.to,\n    value: txParams.value,\n    data: txParams.data,\n    gas: txParams.gas,\n    gasPrice: txParams.gasPrice,\n    nonce: txParams.nonce,\n  }\n}\n\nfunction toLowerCase(string){\n  return string.toLowerCase()\n}\n\nfunction resemblesAddress (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValid = ethUtil.isValidAddress(fixed)\n  return isValid\n}\n\n// Returns true if resembles hex data\n// but definitely not a valid address.\nfunction resemblesData (string) {\n  const fixed = ethUtil.addHexPrefix(string)\n  const isValidAddress = ethUtil.isValidAddress(fixed)\n  return !isValidAddress && isValidHex(string)\n}\n\nfunction isValidHex(data) {\n  const isString = typeof data === 'string'\n  if (!isString) return false\n  const isHexPrefixed = data.slice(0,2) === '0x'\n  if (!isHexPrefixed) return false\n  const nonPrefixed = data.slice(2)\n  const isValid = nonPrefixed.match(hexRegex)\n  return isValid\n}\n\nfunction mustProvideInConstructor(methodName) {\n  return function(params, cb) {\n    cb(new Error('ProviderEngine - HookedWalletSubprovider - Must provide \"' + methodName + '\" fn in constructor options'))\n  }\n}\n","const inherits = require('util').inherits\nconst Transaction = require('ethereumjs-tx')\nconst ethUtil = require('ethereumjs-util')\nconst Subprovider = require('./subprovider.js')\nconst blockTagForPayload = require('../util/rpc-cache-utils').blockTagForPayload\n\nmodule.exports = NonceTrackerSubprovider\n\n// handles the following RPC methods:\n//   eth_getTransactionCount (pending only)\n//\n// observes the following RPC methods:\n//   eth_sendRawTransaction\n//   evm_revert (to clear the nonce cache)\n\ninherits(NonceTrackerSubprovider, Subprovider)\n\nfunction NonceTrackerSubprovider(opts){\n  const self = this\n\n  self.nonceCache = {}\n}\n\nNonceTrackerSubprovider.prototype.handleRequest = function(payload, next, end){\n  const self = this\n\n  switch(payload.method) {\n\n    case 'eth_getTransactionCount':\n      var blockTag = blockTagForPayload(payload)\n      var address = payload.params[0].toLowerCase()\n      var cachedResult = self.nonceCache[address]\n      // only handle requests against the 'pending' blockTag\n      if (blockTag === 'pending') {\n        // has a result\n        if (cachedResult) {\n          end(null, cachedResult)\n        // fallthrough then populate cache\n        } else {\n          next(function(err, result, cb){\n            if (err) return cb()\n            if (self.nonceCache[address] === undefined) {\n              self.nonceCache[address] = result\n            }\n            cb()\n          })\n        }\n      } else {\n        next()\n      }\n      return\n\n    case 'eth_sendRawTransaction':\n      // allow the request to continue normally\n      next(function(err, result, cb){\n        // only update local nonce if tx was submitted correctly\n        if (err) return cb()\n        // parse raw tx\n        var rawTx = payload.params[0]\n        var stripped = ethUtil.stripHexPrefix(rawTx)\n        var rawData = Buffer.from(ethUtil.stripHexPrefix(rawTx), 'hex')\n        var tx = new Transaction(Buffer.from(ethUtil.stripHexPrefix(rawTx), 'hex'))\n        // extract address\n        var address = '0x'+tx.getSenderAddress().toString('hex').toLowerCase()\n        // extract nonce and increment\n        var nonce = ethUtil.bufferToInt(tx.nonce)\n        nonce++\n        // hexify and normalize\n        var hexNonce = nonce.toString(16)\n        if (hexNonce.length%2) hexNonce = '0'+hexNonce\n        hexNonce = '0x'+hexNonce\n        // dont update our record on the nonce until the submit was successful\n        // update cache\n        self.nonceCache[address] = hexNonce\n        cb()\n      })\n      return\n\n   // Clear cache on a testrpc revert\n   case 'evm_revert':\n      self.nonceCache = {}\n      next()\n      return\n\n    default:\n      next()\n      return\n\n  }\n}\n","const ProviderSubprovider = require('./json-rpc-engine-middleware')\nconst createSubscriptionManager = require('eth-json-rpc-filters/subscriptionManager')\n\nclass SubscriptionsSubprovider extends ProviderSubprovider {\n  constructor() {\n    super(({ blockTracker, provider, engine }) => {\n      const { events, middleware } = createSubscriptionManager({ blockTracker, provider })\n      // forward subscription events on the engine\n      events.on('notification', (data) => engine.emit('data', null, data))\n      // return the subscription install/remove middleware\n      return middleware\n    })\n  }\n}\n\nmodule.exports = SubscriptionsSubprovider\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ERR_NOT_IN_IFRAME = exports.ERR_CONNECTION_TIMEOUT = exports.ERR_CONNECTION_DESTROYED = void 0;\nvar HANDSHAKE = 'handshake';\nvar HANDSHAKE_REPLY = 'handshake-reply';\nvar CALL = 'call';\nvar REPLY = 'reply';\nvar FULFILLED = 'fulfilled';\nvar REJECTED = 'rejected';\nvar MESSAGE = 'message';\nvar DATA_CLONE_ERROR = 'DataCloneError';\nvar ERR_CONNECTION_DESTROYED = 'ConnectionDestroyed';\nexports.ERR_CONNECTION_DESTROYED = ERR_CONNECTION_DESTROYED;\nvar ERR_CONNECTION_TIMEOUT = 'ConnectionTimeout';\nexports.ERR_CONNECTION_TIMEOUT = ERR_CONNECTION_TIMEOUT;\nvar ERR_NOT_IN_IFRAME = 'NotInIframe';\nexports.ERR_NOT_IN_IFRAME = ERR_NOT_IN_IFRAME;\nvar DEFAULT_PORTS = {\n  'http:': '80',\n  'https:': '443'\n};\nvar URL_REGEX = /^(https?:)?\\/\\/([^/:]+)(:(\\d+))?/;\nvar Penpal = {\n  ERR_CONNECTION_DESTROYED: ERR_CONNECTION_DESTROYED,\n  ERR_CONNECTION_TIMEOUT: ERR_CONNECTION_TIMEOUT,\n  ERR_NOT_IN_IFRAME: ERR_NOT_IN_IFRAME,\n\n  /**\n   * Promise implementation.\n   * @type {Constructor}\n   */\n  Promise: function () {\n    try {\n      return window ? window.Promise : null;\n    } catch (e) {\n      return null;\n    }\n  }(),\n\n  /**\n   * Whether debug messages should be logged.\n   * @type {boolean}\n   */\n  debug: false\n};\n/**\n * @return {number} A unique ID (not universally unique)\n */\n\nvar generateId = function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n}();\n/**\n * Logs a message.\n * @param {...*} args One or more items to log\n */\n\n\nvar log = function log() {\n  if (Penpal.debug) {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    (_console = console).log.apply(_console, ['[Penpal]'].concat(args)); // eslint-disable-line no-console\n\n  }\n};\n/**\n * Converts a URL into an origin.\n * @param {string} url\n * @return {string} The URL's origin\n */\n\n\nvar getOriginFromUrl = function getOriginFromUrl(url) {\n  var location = document.location;\n  var regexResult = URL_REGEX.exec(url);\n  var protocol;\n  var hostname;\n  var port;\n\n  if (regexResult) {\n    // It's an absolute URL. Use the parsed info.\n    // regexResult[1] will be undefined if the URL starts with //\n    protocol = regexResult[1] ? regexResult[1] : location.protocol;\n    hostname = regexResult[2];\n    port = regexResult[4];\n  } else {\n    // It's a relative path. Use the current location's info.\n    protocol = location.protocol;\n    hostname = location.hostname;\n    port = location.port;\n  } // If the port is the default for the protocol, we don't want to add it to the origin string\n  // or it won't match the message's event.origin.\n\n\n  var portSuffix = port && port !== DEFAULT_PORTS[protocol] ? \":\".concat(port) : '';\n  return \"\".concat(protocol, \"//\").concat(hostname).concat(portSuffix);\n};\n/**\n * A simplified promise class only used internally for when destroy() is called. This is\n * used to destroy connections synchronously while promises typically resolve asynchronously.\n *\n * @param {Function} executor\n * @returns {Object}\n * @constructor\n */\n\n\nvar DestructionPromise = function DestructionPromise(executor) {\n  var handlers = [];\n  executor(function () {\n    handlers.forEach(function (handler) {\n      handler();\n    });\n  });\n  return {\n    then: function then(handler) {\n      handlers.push(handler);\n    }\n  };\n};\n/**\n * Converts an error object into a plain object.\n * @param {Error} Error object.\n * @returns {Object}\n */\n\n\nvar serializeError = function serializeError(_ref) {\n  var name = _ref.name,\n      message = _ref.message,\n      stack = _ref.stack;\n  return {\n    name: name,\n    message: message,\n    stack: stack\n  };\n};\n/**\n * Converts a plain object into an error object.\n * @param {Object} Object with error properties.\n * @returns {Error}\n */\n\n\nvar deserializeError = function deserializeError(obj) {\n  var deserializedError = new Error();\n  Object.keys(obj).forEach(function (key) {\n    return deserializedError[key] = obj[key];\n  });\n  return deserializedError;\n};\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodNames Names of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\n\n\nvar connectCallSender = function connectCallSender(callSender, info, methodNames, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call sender\"));\n\n  var createMethodProxy = function createMethodProxy(methodName) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      log(\"\".concat(localName, \": Sending \").concat(methodName, \"() call\"));\n\n      if (destroyed) {\n        var error = new Error(\"Unable to send \".concat(methodName, \"() call due \") + \"to destroyed connection\");\n        error.code = ERR_CONNECTION_DESTROYED;\n        throw error;\n      }\n\n      return new Penpal.Promise(function (resolve, reject) {\n        var id = generateId();\n\n        var handleMessageEvent = function handleMessageEvent(event) {\n          if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === REPLY && event.data.id === id) {\n            log(\"\".concat(localName, \": Received \").concat(methodName, \"() reply\"));\n            local.removeEventListener(MESSAGE, handleMessageEvent);\n            var returnValue = event.data.returnValue;\n\n            if (event.data.returnValueIsError) {\n              returnValue = deserializeError(returnValue);\n            }\n\n            (event.data.resolution === FULFILLED ? resolve : reject)(returnValue);\n          }\n        };\n\n        local.addEventListener(MESSAGE, handleMessageEvent);\n        remote.postMessage({\n          penpal: CALL,\n          id: id,\n          methodName: methodName,\n          args: args\n        }, remoteOrigin);\n      });\n    };\n  };\n\n  destructionPromise.then(function () {\n    destroyed = true;\n  });\n  methodNames.reduce(function (api, methodName) {\n    api[methodName] = createMethodProxy(methodName);\n    return api;\n  }, callSender);\n};\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n * @param {Object} info Information about the local and remote windows.\n * @param {Object} methods The keys are the names of the methods that can be called by the remote\n * while the values are the method functions.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Function} A function that may be called to disconnect the receiver.\n */\n\n\nvar connectCallReceiver = function connectCallReceiver(info, methods, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call receiver\"));\n\n  var handleMessageEvent = function handleMessageEvent(event) {\n    if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === CALL) {\n      var _event$data = event.data,\n          methodName = _event$data.methodName,\n          args = _event$data.args,\n          id = _event$data.id;\n      log(\"\".concat(localName, \": Received \").concat(methodName, \"() call\"));\n\n      if (methodName in methods) {\n        var createPromiseHandler = function createPromiseHandler(resolution) {\n          return function (returnValue) {\n            log(\"\".concat(localName, \": Sending \").concat(methodName, \"() reply\"));\n\n            if (destroyed) {\n              // It's possible to throw an error here, but it would need to be thrown asynchronously\n              // and would only be catchable using window.onerror. This is because the consumer\n              // is merely returning a value from their method and not calling any function\n              // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n              // the value of doing so is questionable. Instead, we'll just log a message.\n              log(\"\".concat(localName, \": Unable to send \").concat(methodName, \"() reply due to destroyed connection\"));\n              return;\n            }\n\n            var message = {\n              penpal: REPLY,\n              id: id,\n              resolution: resolution,\n              returnValue: returnValue\n            };\n\n            if (resolution === REJECTED && returnValue instanceof Error) {\n              message.returnValue = serializeError(returnValue);\n              message.returnValueIsError = true;\n            }\n\n            try {\n              remote.postMessage(message, remoteOrigin);\n            } catch (err) {\n              // If a consumer attempts to send an object that's not cloneable (e.g., window),\n              // we want to ensure the receiver's promise gets rejected.\n              if (err.name === DATA_CLONE_ERROR) {\n                remote.postMessage({\n                  penpal: REPLY,\n                  id: id,\n                  resolution: REJECTED,\n                  returnValue: serializeError(err),\n                  returnValueIsError: true\n                }, remoteOrigin);\n              }\n\n              throw err;\n            }\n          };\n        };\n\n        new Penpal.Promise(function (resolve) {\n          return resolve(methods[methodName].apply(methods, args));\n        }).then(createPromiseHandler(FULFILLED), createPromiseHandler(REJECTED));\n      }\n    }\n  };\n\n  local.addEventListener(MESSAGE, handleMessageEvent);\n  destructionPromise.then(function () {\n    destroyed = true;\n    local.removeEventListener(MESSAGE, handleMessageEvent);\n  });\n};\n/**\n * @typedef {Object} Child\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n * @property {HTMLIframeElement} iframe The created iframe element.\n * @property {Function} destroy A method that, when called, will remove the iframe element from\n * the DOM and clean up event listeners.\n */\n\n/**\n * Creates an iframe, loads a webpage into the URL, and attempts to establish communication with\n * the iframe.\n * @param {Object} options\n * @param {string} options.url The URL of the webpage that should be loaded into the created iframe.\n * @param {HTMLElement} [options.appendTo] The container to which the iframe should be appended.\n * @param {Object} [options.methods={}] Methods that may be called by the iframe.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the child to respond before rejecting the connection promise.\n * @return {Child}\n */\n\n\nPenpal.connectToChild = function (_ref2) {\n  var url = _ref2.url,\n      appendTo = _ref2.appendTo,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      timeout = _ref2.timeout;\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var parent = window;\n  var iframe = document.createElement('iframe');\n  (appendTo || document.body).appendChild(iframe);\n  connectionDestructionPromise.then(function () {\n    if (iframe.parentNode) {\n      iframe.parentNode.removeChild(iframe);\n    }\n  });\n  var child = iframe.contentWindow || iframe.contentDocument.parentWindow;\n  var childOrigin = getOriginFromUrl(url);\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to child timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    } // We resolve the promise with the call sender. If the child reconnects (for example, after\n    // refreshing or navigating to another page that uses Penpal, we'll update the call sender\n    // with methods that match the latest provided by the child.\n\n\n    var callSender = {};\n    var receiverMethodNames;\n    var destroyCallReceiver;\n\n    var handleMessage = function handleMessage(event) {\n      if (event.source === child && event.origin === childOrigin && event.data.penpal === HANDSHAKE) {\n        log('Parent: Received handshake, sending reply');\n        event.source.postMessage({\n          penpal: HANDSHAKE_REPLY,\n          methodNames: Object.keys(methods)\n        }, event.origin);\n        var info = {\n          localName: 'Parent',\n          local: parent,\n          remote: child,\n          remoteOrigin: event.origin\n        }; // If the child reconnected, we need to destroy the previous call receiver before setting\n        // up a new one.\n\n        if (destroyCallReceiver) {\n          destroyCallReceiver();\n        } // When this promise is resolved, it will destroy the call receiver (stop listening to\n        // method calls from the child) and delete its methods off the call sender.\n\n\n        var callReceiverDestructionPromise = new DestructionPromise(function (resolveCallReceiverDestructionPromise) {\n          connectionDestructionPromise.then(resolveCallReceiverDestructionPromise);\n          destroyCallReceiver = resolveCallReceiverDestructionPromise;\n        });\n        connectCallReceiver(info, methods, callReceiverDestructionPromise); // If the child reconnected, we need to remove the methods from the previous call receiver\n        // off the sender.\n\n        if (receiverMethodNames) {\n          receiverMethodNames.forEach(function (receiverMethodName) {\n            delete callSender[receiverMethodName];\n          });\n        }\n\n        receiverMethodNames = event.data.methodNames;\n        connectCallSender(callSender, info, receiverMethodNames, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    parent.addEventListener(MESSAGE, handleMessage);\n    connectionDestructionPromise.then(function () {\n      parent.removeEventListener(MESSAGE, handleMessage);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Parent: Loading iframe');\n    iframe.src = url;\n  });\n  return {\n    promise: promise,\n    iframe: iframe,\n    destroy: destroy\n  };\n};\n/**\n * @typedef {Object} Parent\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n */\n\n/**\n * Attempts to establish communication with the parent window.\n * @param {Object} options\n * @param {string} [options.parentOrigin=*] Valid parent origin used to restrict communication.\n * @param {Object} [options.methods={}] Methods that may be called by the parent window.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the parent to respond before rejecting the connection promise.\n * @return {Parent}\n */\n\n\nPenpal.connectToParent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$parentOrigin = _ref3.parentOrigin,\n      parentOrigin = _ref3$parentOrigin === void 0 ? '*' : _ref3$parentOrigin,\n      _ref3$methods = _ref3.methods,\n      methods = _ref3$methods === void 0 ? {} : _ref3$methods,\n      timeout = _ref3.timeout;\n\n  if (window === window.top) {\n    var error = new Error('connectToParent() must be called within an iframe');\n    error.code = ERR_NOT_IN_IFRAME;\n    throw error;\n  }\n\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var child = window;\n  var parent = child.parent;\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to parent timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    }\n\n    var handleMessageEvent = function handleMessageEvent(event) {\n      if ((parentOrigin === '*' || parentOrigin === event.origin) && event.source === parent && event.data.penpal === HANDSHAKE_REPLY) {\n        log('Child: Received handshake reply');\n        child.removeEventListener(MESSAGE, handleMessageEvent);\n        var info = {\n          localName: 'Child',\n          local: child,\n          remote: parent,\n          remoteOrigin: event.origin\n        };\n        var callSender = {};\n        connectCallReceiver(info, methods, connectionDestructionPromise);\n        connectCallSender(callSender, info, event.data.methodNames, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    child.addEventListener(MESSAGE, handleMessageEvent);\n    connectionDestructionPromise.then(function () {\n      child.removeEventListener(MESSAGE, handleMessageEvent);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Child: Sending handshake');\n    parent.postMessage({\n      penpal: HANDSHAKE,\n      methodNames: Object.keys(methods)\n    }, parentOrigin);\n  });\n  return {\n    promise: promise,\n    destroy: destroy\n  };\n};\n\nvar _default = Penpal;\nexports.default = _default;","export function networkAdapter(network, gasRelay) {\n    var networkObj = typeof network === 'string' ? Object.assign({}, networks[network]) : network;\n    if (typeof networkObj !== 'object') {\n        throw new Error(\"[Portis] illegal 'network' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n    }\n    if (!networkObj.nodeUrl) {\n        throw new Error(\"[Portis] 'nodeUrl' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n    }\n    if (gasRelay && !networkObj.gasRelayHubAddress) {\n        throw new Error(\"[Portis] can't find default gas relay hub for \" + network);\n    }\n    if (typeof network === 'string' && !gasRelay) {\n        delete networkObj.gasRelayHubAddress;\n    }\n    return networkObj;\n}\nvar networks = {\n    mainnet: {\n        nodeUrl: 'https://mainnet.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '1',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    ropsten: {\n        nodeUrl: 'https://ropsten.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '3',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    rinkeby: {\n        nodeUrl: 'https://rinkeby.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '4',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    goerli: {\n        nodeUrl: 'https://goerli.prylabs.net',\n        chainId: '5',\n    },\n    ubiq: {\n        nodeUrl: 'https://rpc1.ubiqscan.io',\n        chainId: '8',\n    },\n    thundercoreTestnet: {\n        nodeUrl: 'https://testnet-rpc.thundercore.com:8544',\n        chainId: '18',\n    },\n    orchid: {\n        nodeUrl: 'https://public-node.rsk.co',\n        chainId: '30',\n    },\n    orchidTestnet: {\n        nodeUrl: 'https://public-node.testnet.rsk.co',\n        chainId: '31',\n    },\n    kovan: {\n        nodeUrl: 'https://kovan.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n        chainId: '42',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    classic: {\n        nodeUrl: 'https://ethereumclassic.network',\n        chainId: '61',\n    },\n    sokol: {\n        nodeUrl: 'https://sokol.poa.network',\n        chainId: '77',\n    },\n    core: {\n        nodeUrl: 'https://core.poa.network',\n        chainId: '99',\n    },\n    xdai: {\n        nodeUrl: 'https://dai.poa.network',\n        chainId: '100',\n        gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n    },\n    thundercore: {\n        nodeUrl: 'https://mainnet-rpc.thundercore.com',\n        chainId: '108',\n    },\n    fuse: {\n        nodeUrl: 'https://rpc.fusenet.io',\n        chainId: '122',\n    },\n    lightstreams: {\n        nodeUrl: 'https://node.mainnet.lightstreams.io',\n        chainId: '163',\n    },\n    maticAlpha: {\n        nodeUrl: 'https://alpha.ethereum.matic.network',\n        chainId: '4626',\n    },\n    maticTestnet: {\n        nodeUrl: 'https://testnet2.matic.network',\n        chainId: '8995',\n    },\n};\n//# sourceMappingURL=networks.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _a = require('ethereumjs-util'), addHexPrefix = _a.addHexPrefix, stripHexPrefix = _a.stripHexPrefix, BN = _a.BN;\nvar SIMPLE_GAS_COST = '0x5208'; // Hex for 21000, cost of a simple send.\nexport function getTxGas(query, txParams) {\n    return __awaiter(this, void 0, void 0, function () {\n        var block, _a, safeGas, simpleSend, gasLimitSpecified, gas, error_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0: return [4 /*yield*/, query.getBlockByNumber('latest', false)];\n                case 1:\n                    block = _b.sent();\n                    return [4 /*yield*/, safeTxGas(query, txParams, block.gasLimit)];\n                case 2:\n                    _a = _b.sent(), safeGas = _a.safeGas, simpleSend = _a.simpleSend, gasLimitSpecified = _a.gasLimitSpecified;\n                    if (simpleSend || gasLimitSpecified) {\n                        return [2 /*return*/, safeGas];\n                    }\n                    _b.label = 3;\n                case 3:\n                    _b.trys.push([3, 5, , 6]);\n                    return [4 /*yield*/, estimateTxGas(query, txParams, block.gasLimit, safeGas)];\n                case 4:\n                    gas = _b.sent();\n                    return [2 /*return*/, gas];\n                case 5:\n                    error_1 = _b.sent();\n                    return [2 /*return*/, safeGas];\n                case 6: return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction safeTxGas(query, txParams, blockGasLimitHex) {\n    return __awaiter(this, void 0, void 0, function () {\n        var gasLimitSpecified, recipient, hasRecipient, code, codeIsEmpty, err, blockGasLimitBN, saferGasLimitBN;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    gasLimitSpecified = Boolean(txParams.gas);\n                    // if it is, use that value\n                    if (gasLimitSpecified) {\n                        return [2 /*return*/, { safeGas: txParams.gas, simpleSend: false, gasLimitSpecified: true }];\n                    }\n                    recipient = txParams.to;\n                    hasRecipient = Boolean(recipient);\n                    if (!hasRecipient) return [3 /*break*/, 2];\n                    return [4 /*yield*/, query.getCode(recipient)];\n                case 1:\n                    code = _a.sent();\n                    codeIsEmpty = !code || code === '0x' || code === '0x0';\n                    if (codeIsEmpty) {\n                        // if there's data in the params, but there's no contract code, it's not a valid transaction\n                        if (txParams.data) {\n                            err = new Error('Trying to call a function on a non-contract address');\n                            throw err;\n                        }\n                        // This is a standard ether simple send, gas requirement is exactly 21k\n                        return [2 /*return*/, { safeGas: SIMPLE_GAS_COST, simpleSend: true, gasLimitSpecified: false }];\n                    }\n                    _a.label = 2;\n                case 2:\n                    blockGasLimitBN = hexToBn(blockGasLimitHex);\n                    saferGasLimitBN = BnMultiplyByFraction(blockGasLimitBN, 19, 20);\n                    return [2 /*return*/, { safeGas: bnToHex(saferGasLimitBN), simpleSend: false, gasLimitSpecified: false }];\n            }\n        });\n    });\n}\nfunction estimateTxGas(query, txParams, blockGasLimitHex, safeGas) {\n    return __awaiter(this, void 0, void 0, function () {\n        var estimatedGas, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    txParams.gas = safeGas;\n                    _a = addHexPrefix;\n                    return [4 /*yield*/, query.estimateGas(txParams)];\n                case 1:\n                    estimatedGas = _a.apply(void 0, [_b.sent()]);\n                    return [2 /*return*/, addGasBuffer(estimatedGas, blockGasLimitHex)];\n            }\n        });\n    });\n}\nfunction addGasBuffer(initialGasLimitHex, blockGasLimitHex) {\n    var initialGasLimitBn = hexToBn(initialGasLimitHex);\n    var blockGasLimitBn = hexToBn(blockGasLimitHex);\n    var upperGasLimitBn = blockGasLimitBn.muln(0.9);\n    var bufferedGasLimitBn = initialGasLimitBn.muln(1.5);\n    // if initialGasLimit is above blockGasLimit, dont modify it\n    if (initialGasLimitBn.gt(upperGasLimitBn))\n        return bnToHex(initialGasLimitBn);\n    // if bufferedGasLimit is below blockGasLimit, use bufferedGasLimit\n    if (bufferedGasLimitBn.lt(upperGasLimitBn))\n        return bnToHex(bufferedGasLimitBn);\n    // otherwise use blockGasLimit\n    return bnToHex(upperGasLimitBn);\n}\nfunction hexToBn(inputHex) {\n    return new BN(stripHexPrefix(inputHex), 16);\n}\nfunction bnToHex(inputBn) {\n    return addHexPrefix(inputBn.toString(16));\n}\nfunction BnMultiplyByFraction(targetBN, numerator, denominator) {\n    var numBN = new BN(numerator);\n    var denomBN = new BN(denominator);\n    return targetBN.mul(numBN).div(denomBN);\n}\n//# sourceMappingURL=getTxGas.js.map","var Query = /** @class */ (function () {\n    function Query(provider) {\n        this.provider = provider;\n    }\n    Query.prototype.getBlockByNumber = function (blockNumber, fullTransaction) {\n        return this.sendAsync('eth_getBlockByNumber', blockNumber, fullTransaction);\n    };\n    Query.prototype.getCode = function (address, blockNumber) {\n        if (blockNumber === void 0) { blockNumber = 'latest'; }\n        return this.sendAsync('eth_getCode', address, blockNumber);\n    };\n    Query.prototype.estimateGas = function (txParams) {\n        return this.sendAsync('eth_estimateGas', txParams);\n    };\n    Query.prototype.sendAsync = function (methodName) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return new Promise(function (resolve, reject) {\n            _this.provider.sendAsync({\n                id: 42,\n                jsonrpc: '2.0',\n                method: methodName,\n                params: args,\n            }, function (error, response) {\n                if (error) {\n                    reject(error);\n                }\n                else {\n                    resolve(response.result);\n                }\n            });\n        });\n    };\n    return Query;\n}());\nexport { Query };\n//# sourceMappingURL=query.js.map","var loaded = false;\nexport function onWindowLoad() {\n    return new Promise(function (resolve) {\n        if (loaded) {\n            resolve();\n        }\n        else if (['loaded', 'interactive', 'complete'].indexOf(document.readyState) > -1) {\n            loaded = true;\n            resolve();\n        }\n        else {\n            window.addEventListener('load', function () {\n                loaded = true;\n                resolve();\n            }, false);\n        }\n    });\n}\n//# sourceMappingURL=onWindowLoad.js.map","/**\n *\n *\n * @class Blockchain\n */\nclass Blockchain {\n  /**\n   * Creates an instance of Blockchain.\n   * @param {String} name - Blockchain's name.\n   * @param {String} netID - Network identifier.\n   * @memberof Blockchain\n   */\n  constructor(name, netID) {\n    this.name = name;\n    this.netID = netID;\n  }\n  /**\n   *\n   * toJSON\n   * @returns {JSON} - A JSON object.\n   * @memberof Blockchain\n   */\n  toJSON() {\n    return JSON.parse('{ \"name\":\"' + \n    this.name + '\", \"netID\":\"' + \n    this.netID + '\"}')\n  }\n}\n\nmodule.exports = {\n  Blockchain\n}","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","module.exports = require('./lib/axios');","// Url's and Paths    \nconst dispatchNodeURL = \"https://dispatch.pokt.network\";\nconst dispatchPath = \"/v1/dispatch\";\nconst reportPath = \"/v1/report\";\nconst relayPath = \"/v1/relay/\";\n\n\nmodule.exports = {\n    dispatchNodeURL,\n    dispatchPath,\n    reportPath,\n    relayPath\n}","const axios = require('axios');\nconst constants = require(\"../utils/constants.js\");\nconst httpsRequestProtocol = \"https://\";\nconst httpRequestProtocol = \"http://\";\n// Dispatch\n/**\n *\n *\n * @class Node\n */\nclass Node {\n    /**\n     * Creates an instance of Node.\n     * @param {String} network - Network name.\n     * @param {String} netID - Network Identifier.\n     * @param {String} ipPort - Ip and port string (\"10.0.0.1:80\")\n     * @memberof Node\n     */\n    constructor(network, netID, ipPort) {\n        this.network = network;\n        this.netID = netID;\n        var ipPortArr = ipPort.split(\":\");\n        this.ip = ipPortArr[0];\n        this.port = ipPortArr[1];\n        if (ipPort.includes(httpsRequestProtocol) || ipPort.includes(httpRequestProtocol)) {\n            this.ipPort = ipPort;\n        } else {\n            if (this.port === \"443\" || this.port === 443) {\n                this.ipPort = httpsRequestProtocol + ipPort;\n            } else {\n                this.ipPort = httpRequestProtocol + ipPort;\n            }\n        }\n    }\n\n    /**\n     *\n     * Verify if all properties are valid\n     * @returns {boolean} - True or false.\n     * @memberof Node\n     */\n    isValid() {\n        for (var property in this) {\n            if (!this.hasOwnProperty(property) || this[property] == \"\") {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     *\n     * Checks if params are equal to stored properties\n     * @param {String} netID - Network Identifier.\n     * @param {String} network - Network name.\n     * @returns {boolean} - True or false.\n     * @memberof Node\n     */\n    isEqual(netID, network) {\n        if (this.netID == netID.toString() && this.network == network.toString()) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     *\n     * Sends a relay to a service node\n     * @param {Relay} relay - Relay object with the information.\n     * @param {callback} callback - callback handler.\n     * @returns {Object} - Object with the response.\n     * @memberof Node\n     */\n    async sendRelay(relay, callback) {\n        try {\n            const axiosInstance = axios.create({\n                baseURL: this.ipPort,\n                timeout: relay.configuration.requestTimeOut,\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n\n            var response = await axiosInstance.post(constants.relayPath,\n                relay.toJSON()\n            );\n\n            if (response.status == 200 && response.data != null) {\n                var result = response.data;\n\n                if (callback) {\n                    callback(result, null);\n                    return;\n                } else {\n                    return result;\n                }\n            } else {\n                if (callback) {\n                    callback(null, new Error(\"Failed to send relay with error: \" + response.data));\n                    return;\n                } else {\n                    return new Error(\"Failed to send relay with error: \" + response.data);\n                }\n            }\n        } catch (error) {\n            if (callback) {\n                callback(null, new Error(\"Failed to send relay with error: \" + error));\n                return;\n            } else {\n                return new Error(\"Failed to send relay with error: \" + error);\n            }\n        }\n    }\n}\n\nmodule.exports = {\n    Node\n}","const axios = require('axios');\nconst Node = require(\"./node.js\").Node;\nconst constants = require(\"../utils/constants.js\");\n\n// Dispatch\n/**\n *\n *\n * @class Dispatch\n */\nclass Dispatch {\n  /**\n   *Creates an instance of Dispatch.\n   * @param {Configuration} configuration - Configuration object.\n   * @memberof Dispatch\n   */\n  constructor(configuration) {\n    this.configuration = configuration;\n    this.axiosInstance = axios.create({\n      baseURL: constants.dispatchNodeURL,\n      path: constants.dispatchPath,\n      timeout: this.configuration.requestTimeOut,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  }\n  /**\n   *\n   * blockchain object to JSON\n   * @returns {JSON} - JSON Array with the blockchain list.\n   * @memberof Dispatch\n   */\n  blockchainsJSON() {\n    var blockchainArray = []\n    this.configuration.blockchains.forEach(element => {\n      blockchainArray.push(element);\n    });\n    return blockchainArray\n  }\n  /**\n   *\n   * Retrieves a list of service nodes\n   * @param {callback} callback\n   * @returns {Node} - A Node object list.\n   * @memberof Dispatch\n   */\n  async retrieveServiceNodes(callback) {\n    try {\n      var dispatch = this;\n      var response = null;\n\n      response = await this.axiosInstance.post(constants.dispatchPath, {\n        \"DevID\": dispatch.configuration.devID,\n        \"Blockchains\": dispatch.blockchainsJSON()\n      });\n\n      if (response != null && response.status == 200 && response.data != null) {\n        var nodes = this.parseDispatchResponse(response.data);\n\n        if (callback) {\n          callback(nodes, null);\n          return;\n        } else {\n          return nodes;\n        }\n      } else {\n        if (callback) {\n          callback(null, new Error(\"Failed to retrieve service nodes with error: \" + response.data));\n          return;\n        } else {\n          return new Error(\"Failed to retrieve service nodes with error: \" + response.data);\n        }\n      }\n    } catch (err) {\n      if (callback) {\n        callback(null, new Error(\"Failed to retrieve service nodes with error: \" + err));\n        return;\n      } else {\n        return new Error(\"Failed to retrieve service nodes with error: \" + err);\n      }\n    }\n  }\n\n  /**\n   *\n   * Parse the response from the dispatcher\n   * @param {Object} response\n   * @returns {Node} - A Node object list.\n   * @memberof Dispatch\n   */\n  parseDispatchResponse(response) {\n    try {\n      // Variables\n      var nodes = [];\n\n      if (Array.isArray(response)) {\n        // Iterate through the array for different networks results\n        response.forEach(element => {\n          \n          var network = element.name;\n          var netID = element.netid;\n\n          if (element.ips) {\n            // Create a Node object for each item inside the dataKey object, IP:PORT\n            element.ips.forEach(ipPort => {\n              var node = new Node(network, netID, ipPort);\n              nodes.push(node);\n            });\n          }\n        });\n      } else {\n\n        var network = response.name;\n        var netID = response.netid;\n\n        if (response.ips) {\n          // Create a Node object for each item inside the dataKey object, IP:PORT\n          response.ips.forEach(ipPort => {\n            var node = new Node(network, netID, ipPort);\n            nodes.push(node);\n          });\n        }\n\n      }\n      return nodes;\n\n    } catch (error) {\n      return new Error(\"Failed to parsed service nodes with error: \" + error);\n    }\n\n  }\n\n}\n\nmodule.exports = {\n  Dispatch\n}","// Relay\n/**\n *\n *\n * @class Relay\n */\nclass Relay {\n\t/**\n\t * Creates an instance of Relay.\n\t * @param {Blockchain} blockchain - A blockchain object.\n\t * @param {String} netID - Network identifier.\n\t * @param {String} data - Data string.\n\t * @param {Configuration} configuration - Configuration object.\n\t * @memberof Relay\n\t */\n\tconstructor(blockchain, netID, data, configuration) {\n\t\tthis.blockchain = blockchain;\n\t\tthis.netID = netID;\n\t\tthis.data = data;\n\t\tthis.configuration = configuration;\n\t}\n\n\t/**\n\t *\n\t * Parse properties to a JSON Object.\n\t * @returns {JSON} - A JSON Object.\n\t * @memberof Relay\n\t */\n\ttoJSON(){\n\t\treturn {\n\t\t\t\"Blockchain\": this.blockchain,\n\t\t\t\"NetID\": this.netID,\n\t\t\t\"Data\": this.data,\n\t\t\t\"DevID\": this.configuration.devID\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * Verifies if the Relay is valid\n\t * @returns {boolean} - True or false\n\t * @memberof Relay\n\t */\n\tisValid(){\n\t\tfor (var property in this) {\n\t\t\tif (!this.hasOwnProperty(property) || this[property] == \"\") {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n\nmodule.exports = {\n\tRelay\n}","const axios = require('axios');\nconst constants = require(\"../utils/constants.js\");\n\n// Report\n/**\n *\n *\n * @class Report\n */\nclass Report {\n\t/**\n   * Creates an instance of Report.\n   * @param {String} ip - Internet protocol address of the node.\n   * @param {String} message - Message describing the report.\n   * @param {Configuration} configuration - Configuration object.\n   * @memberof Report\n   */\n  constructor(ip, message, configuration) {\n\t\tthis.ip = ip;\n        this.message = message;\n        this.configuration = configuration;\n    }\n    /**\n     *\n\t   * Parse properties to a JSON Object.\n\t   * @returns {JSON} - A JSON Object.\n     * @memberof Report\n     */\n    toJSON(){\n      return {\n        \"IP\": this.ip,\n        \"Message\": this.message\n      }\n    }\n    /**\n     *\n\t   * Verifies if the Report is valid\n\t   * @returns {boolean} - True or false\n     * @memberof Report\n     */\n    isValid(){\n      for (var property in this) {\n        if (!this.hasOwnProperty(property) || this[property] == \"\") {\n          return false;\n        }\n      }\n      return true;\n    }\n    /**\n     *\n     * Sends a report to the dispatcher.\n     * @param {callback} callback\n     * @returns {String} - An string with the result.\n     * @memberof Report\n     */\n    async send(callback){\n        const axiosInstance = axios.create({\n            baseURL: constants.dispatchNodeURL,\n            timeout: this.configuration.requestTimeOut,\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n    \n          var response = await axiosInstance.post(constants.reportPath,\n            this.toJSON()\n          );\n    \n          if (response.status == 200 && response.data != null) {\n            if (callback) {\n              callback(null, response.data);\n              return;\n            }\n            return response.data;\n          } else {\n            if (callback) {\n              callback(new Error(\"Failed to send report with error: \" + response.data));\n              return;\n            }\n            return new Error(\"Failed to send report with error: \" + response.data);\n          }\n    }\n}\n\nmodule.exports = {\n\tReport\n}","// Wallet - Model\nclass Wallet {\n\t/**\n\t * Creates an instance of Wallet.\n\t * @param {String} address - Public Key string.\n\t * @param {String} privateKey - Private Key string.\n\t * @param {String} network - Network name.\n\t * @param {String} networkID - Network Identifier.\n\t * @param {Object} data - Optional data object.\n\t * @memberof Wallet\n\t */\n\tconstructor(address, privateKey, network, networkID, data) {\n\t\tthis.address = address;\n\t\tthis.privateKey = privateKey;\n\t\tthis.network = network;\n\t\tthis.networkID = networkID;\n\t\tthis.data = data;\n\t}\n}\n\nmodule.exports = {\n\tWallet\n}","module.exports = Object.assign(\n        module.exports, \n        require('./blockchain'), \n        require('./dispatch'), \n        require('./node'), \n        require('./relay'),\n        require('./report'),\n        require('./wallet')\n    )","const Models = require(\"./models/index\");\nconst Blockchain = Models.Blockchain;\nconst Dispatch = Models.Dispatch;\nconst Relay = Models.Relay;\nconst Report = Models.Report;\n\n/**\n *\n *\n * @class Configuration\n */\nclass Configuration {\n  /**\n   * Configuration stores settings.\n   * @constructor\n   * @param {string} devID - Unique developer ID.\n   * @param {string} blockchains - Blockchain class type list.\n   * @param {string} maxNodes - (optional) Maximun amount of nodes to store in instance, default 5.\n   * @param {string} requestTimeOut - (optional) Maximun timeout for every request in miliseconds, default 10000.\n   */\n  constructor(devID, blockchains, maxNodes, requestTimeOut) {\n    this.devID = devID;\n    this.blockchains = blockchains;\n    this.maxNodes = maxNodes || 5;\n    this.nodes = [];\n    this.requestTimeOut = requestTimeOut || 10000;\n    this.dispatch = null;\n  }\n  /**\n   * Verify if the nodes list is empty\n   *\n   * @returns {Boolean}\n   * @memberof Configuration\n   */\n  nodesIsEmpty() {\n    if (this.nodes == null || this.nodes.length == 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n/**\n *\n *\n * @class Pocket\n */\nclass Pocket {\n  /**\n   * Creates an instance of Pocket.\n   * @param {Object} opts - Options for the initializer, devID, networkName, netIDs, maxNodes, requestTimeOut.\n   * @memberof Pocket\n   */\n  constructor(opts) {\n    var blockchains = [];\n\n    if (opts.devID == null || opts.networkName == null || opts.netIDs == null) {\n      return new Error(\"Invalid number of arguments\");\n    }\n\n    if (Array.isArray(opts.netIDs)) {\n      opts.netIDs.forEach(element => {\n        var blockchain = new Blockchain(opts.networkName, element);\n        blockchains.push(blockchain.toJSON());\n      });\n    } else {\n      var blockchain = new Blockchain(opts.networkName, opts.netIDs);\n      blockchains.push(blockchain.toJSON());\n    }\n\n    this.configuration = new Configuration(opts.devID, blockchains, opts.maxNodes || 5, opts.requestTimeOut || 10000);\n\n  }\n  /**\n   *\n   * Create a Relay instance\n   * @param {Blockchain} blockchain - Blockchain object.\n   * @param {String} netID - Network Idenfifier.\n   * @param {String} data - String holding the json rpc call.\n   * @returns {Relay} - New Relay instance.\n   * @memberof Pocket\n   */\n  createRelay(blockchain, netID, data) {\n    // Check if data is a json tring\n    if (typeof data == 'string') {\n      return new Relay(blockchain, netID, data, this.configuration); \n    }\n    return new Relay(blockchain, netID, JSON.stringify(data), this.configuration);\n  }\n  /**\n   *\n   * Create a Report instance\n   * @param {String} ip - Internet protocol address.\n   * @param {String} message - Brief description for the report.\n   * @returns {Report} - New Report instance.\n   * @memberof Pocket\n   */\n  createReport(ip, message) {\n    return new Report(ip, message, this.configuration);\n  }\n  /**\n   *\n   * Get a Dispatch instance or creates one\n   * @returns {Dispatch} - New or existing Dispatch instance.\n   * @memberof Pocket\n   */\n  getDispatch() {\n    if (this.dispatch == null) {\n      this.dispatch = new Dispatch(this.configuration);\n    }\n    return this.dispatch;\n  }\n  /**\n   *\n   * Filter nodes by netID and blockchain name\n   * @param {String} netID - Network Idenfifier.\n   * @param {String} network - Network Name.\n   * @returns {Node} - New Node instance.\n   * @memberof Pocket\n   */\n  async getNode(netID, network) {\n    try {\n      var nodes = [];\n\n      if (this.configuration.nodesIsEmpty()) {\n        var response = await this.retrieveNodes();\n\n        if (response instanceof Error == true) {\n          throw response;\n        }else {\n          // Save the nodes to the configuration.\n          this.configuration.nodes = response;\n        }\n      }\n      \n      this.configuration.nodes.forEach(node => {\n        if (node.isEqual(netID, network)) {\n          nodes.push(node);\n        }\n      });\n\n      if (nodes.length <= 0) {\n        return null\n      }\n\n      return nodes[Math.floor(Math.random() * nodes.length)];\n    } catch (error) {\n      return null;\n    }\n  }\n  /**\n   *\n   * Send a report\n   * @param {Report} report - Report instance with the information.\n   * @param {callback} callback - callback handler.\n   * @returns {String} - A String with the response.\n   * @memberof Pocket\n   */\n  async sendReport(report, callback) {\n    try {\n      // Check for report\n      if (report == null) {\n        throw new Error(\"Report is null\");\n      }\n      // Verify all report properties are set\n      if (!report.isValid()) {\n        throw new Error(\"One or more Report properties are empty.\");\n      }\n      // Send Report\n      var response = await report.send();\n      // Response\n      if (response instanceof Error == false) {\n        if (callback) {\n          callback(null, response);\n          return;\n        } else {\n          return response;\n        }\n      } else {\n        if (callback) {\n          callback(response);\n          return;\n        } else {\n          return response;\n        }\n      }\n    } catch (error) {\n      if (callback) {\n        callback(error);\n        return;\n      } else {\n        return error;\n      }\n    }\n  }\n  /**\n   *\n   * Send an already created Relay\n   * @param {Relay} relay - Relay instance with the information.\n   * @param {callback} callback - callback handler.\n   * @returns {String} - A String with the response.\n   * @memberof Pocket\n   */\n  async sendRelay(relay, callback) {\n    try {\n      // Check for relay\n      if (relay == null || relay.data == null) {\n        if (callback) {\n          callback(new Error(\"Relay is null or data field is missing\"));\n          return;\n        } else {\n          return new Error(\"Relay is null or data field is missing\");\n        }\n      }\n      // Verify all relay properties are set\n      if (!relay.isValid()) {\n        if (callback) {\n          callback(new Error(\"Relay is missing a property, please verify all properties.\"));\n          return;\n        } else {\n          return new Error(\"Relay is missing a property, please verify all properties.\");\n        }\n      }\n\n      // Filter nodes for specified blockchain\n      var node = await this.getNode(relay.netID,\n        relay.blockchain);\n\n      if (node == null) {\n        if (callback) {\n          callback(new Error(\"Node is empty.\"));\n          return;\n        } else {\n          return new Error(\"Node is empty.\");\n        }\n      }\n\n      // Send relay\n      var response = await node.sendRelay(relay);\n      // Response\n      if (response instanceof Error == false) {\n        if (callback) {\n          callback(null, response);\n          return;\n        } else {\n          return response;\n        }\n      } else {\n        if (callback) {\n          callback(response);\n          return;\n        } else {\n          return response;\n        }\n      }\n\n    } catch (error) {\n      if (callback) {\n        callback(new Error(\"Failed to send relay with error: \" + error));\n        return;\n      } else {\n        return new Error(\"Failed to send relay with error: \" + error);\n      }\n    }\n\n  }\n  /**\n   *\n   * Retrieve a list of service nodes from the Node Dispatcher\n   * @param {callback} callback\n   * @returns {Node} - A list of Nodes.\n   * @memberof Pocket\n   */\n  async retrieveNodes(callback) {\n    try {\n      var dispatch = this.getDispatch();\n      var nodes = await dispatch.retrieveServiceNodes();\n      \n      if (nodes instanceof Error == false && nodes.length != 0) {\n        // Save the nodes to the configuration.\n        this.configuration.nodes = nodes;\n        // Return a list of nodes\n        if (callback) {\n          callback(null, nodes);\n          return;\n        } else {\n          return nodes;\n        }\n      } else {\n        // Returns an Error;\n        if (callback) {\n          callback(new Error(\"Failed to retrieve a list of nodes.\"), null);\n          return;\n        } else {\n          return new Error(\"Failed to retrieve a list of nodes.\");\n        }\n      }\n\n    } catch (error) {\n      if (callback) {\n        callback(new Error(\"Failed to retrieve a list of nodes with error: \"+error), null);\n        return;\n      } else {\n        return new Error(\"Failed to retrieve a list of nodes with error: \"+error);\n      }\n    }\n  }\n\n}\n\nmodule.exports = Pocket;","const Models = require(\"./models/index\");\nconst Wallet = Models.Wallet;\nconst Relay = Models.Relay;\nconst Pocket = require(\"./pocket\");\n\nmodule.exports = {\n  Pocket,\n  Wallet,\n  Relay\n}","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport ProviderEngine from '@portis/web3-provider-engine';\nimport CacheSubprovider from '@portis/web3-provider-engine/subproviders/cache.js';\nimport FixtureSubprovider from '@portis/web3-provider-engine/subproviders/fixture.js';\nimport FilterSubprovider from '@portis/web3-provider-engine/subproviders/filters.js';\nimport HookedWalletSubprovider from '@portis/web3-provider-engine/subproviders/hooked-wallet.js';\nimport NonceSubprovider from '@portis/web3-provider-engine/subproviders/nonce-tracker.js';\nimport SubscriptionsSubprovider from '@portis/web3-provider-engine/subproviders/subscriptions.js';\nimport Penpal from 'penpal';\nimport { networkAdapter } from './networks';\nimport { getTxGas } from './utils/getTxGas';\nimport { Query } from './utils/query';\nimport { onWindowLoad } from './utils/onWindowLoad';\nimport { styles } from './styles';\nimport { validateSecureOrigin } from './utils/secureOrigin';\nimport PocketJSCore from 'pocket-js-core';\nvar VERSION = '2.0.0-beta.54';\nvar WIDGET_URL = 'https://widget.portis.io';\nvar SUPPORTED_SCOPES = ['email', 'reputation'];\nvar tempCachingIFrame = document.createElement('iframe');\ntempCachingIFrame.style.width = '0';\ntempCachingIFrame.style.height = '0';\ntempCachingIFrame.style.border = 'none';\ntempCachingIFrame.style.position = 'absolute';\ntempCachingIFrame.style.top = '-999px';\ntempCachingIFrame.style.left = '-999px';\ntempCachingIFrame.src = WIDGET_URL;\nonWindowLoad().then(function () {\n    document.body.appendChild(tempCachingIFrame);\n});\nvar Portis = /** @class */ (function () {\n    function Portis(dappId, network, options) {\n        if (options === void 0) { options = {}; }\n        this._widgetUrl = WIDGET_URL;\n        validateSecureOrigin();\n        this._valiadateParams(dappId, network, options);\n        this.config = {\n            dappId: dappId,\n            network: networkAdapter(network, options.gasRelay),\n            version: VERSION,\n            scope: options.scope,\n            registerPageByDefault: options.registerPageByDefault,\n        };\n        this.widget = this._initWidget();\n        this.provider = this._initProvider(options);\n    }\n    Portis.prototype.changeNetwork = function (network, gasRelay) {\n        var newNetwork = networkAdapter(network, gasRelay);\n        this.clearSubprovider(NonceSubprovider);\n        this.clearSubprovider(CacheSubprovider);\n        this.config.network = newNetwork;\n    };\n    Portis.prototype.setDefaultEmail = function (email) {\n        this.config.defaultEmail = email;\n    };\n    Portis.prototype.showPortis = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.showPortis(this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.logout = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.logout()];\n                }\n            });\n        });\n    };\n    Portis.prototype.onLogin = function (callback) {\n        this._onLoginCallback = callback;\n    };\n    Portis.prototype.onLogout = function (callback) {\n        this._onLogoutCallback = callback;\n    };\n    Portis.prototype.onActiveWalletChanged = function (callback) {\n        this._onActiveWalletChangedCallback = callback;\n    };\n    Portis.prototype.onError = function (callback) {\n        this._onErrorCallback = callback;\n    };\n    Portis.prototype.getExtendedPublicKey = function (path, coin) {\n        if (path === void 0) { path = \"m/44'/60'/0'/0/0\"; }\n        if (coin === void 0) { coin = 'Ethereum'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.getExtendedPublicKey(path, coin, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.importWallet = function (mnemonicOrPrivateKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.importWallet(mnemonicOrPrivateKey, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.isLoggedIn = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.isLoggedIn()];\n                }\n            });\n        });\n    };\n    Portis.prototype.signBitcoinTransaction = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.signBitcoinTransaction(params, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype.showBitcoinWallet = function (path) {\n        if (path === void 0) { path = \"m/49'/0'/0'/0/0\"; }\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetCommunication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetCommunication = (_a.sent()).communication;\n                        return [2 /*return*/, widgetCommunication.showBitcoinWallet(path, this.config)];\n                }\n            });\n        });\n    };\n    Portis.prototype._valiadateParams = function (dappId, network, options) {\n        if (!dappId) {\n            throw new Error(\"[Portis] 'dappId' is required. Get your dappId here: https://dashboard.portis.io\");\n        }\n        if (!network) {\n            throw new Error(\"[Portis] 'network' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network\");\n        }\n        if (options.scope) {\n            if (!Array.isArray(options.scope)) {\n                throw new Error(\"[Portis] 'scope' must be an array. Read more about it here: https://docs.portis.io/#/configuration?id=scope\");\n            }\n            var unknownScope = options.scope.filter(function (item) { return SUPPORTED_SCOPES.indexOf(item) < 0; });\n            if (unknownScope.length > 0) {\n                throw new Error(\"[Portis] invalid 'scope' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=scope\");\n            }\n        }\n        if (options.registerPageByDefault !== undefined && typeof options.registerPageByDefault !== 'boolean') {\n            throw new Error(\"[Portis] invalid 'registerPageByDefault' parameter, must be a boolean. Read more about it here: https://docs.portis.io/#/configuration?id=registerPageByDefault\");\n        }\n    };\n    Portis.prototype._initWidget = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var style, container, widgetFrame, connection, communication;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, onWindowLoad()];\n                    case 1:\n                        _a.sent();\n                        if (document.body.contains(tempCachingIFrame)) {\n                            document.body.removeChild(tempCachingIFrame);\n                        }\n                        style = document.createElement('style');\n                        style.innerHTML = styles;\n                        container = document.createElement('div');\n                        container.className = 'por_portis-container';\n                        widgetFrame = document.createElement('div');\n                        widgetFrame.id = \"portis-container-\" + Date.now();\n                        widgetFrame.className = 'por_portis-widget-frame';\n                        container.appendChild(widgetFrame);\n                        document.body.appendChild(container);\n                        document.head.appendChild(style);\n                        connection = Penpal.connectToChild({\n                            url: this._widgetUrl,\n                            appendTo: document.getElementById(widgetFrame.id),\n                            methods: {\n                                setHeight: this._setHeight.bind(this),\n                                getWindowSize: this._getWindowSize.bind(this),\n                                onLogin: this._onLogin.bind(this),\n                                onLogout: this._onLogout.bind(this),\n                                onActiveWalletChanged: this._onActiveWalletChanged.bind(this),\n                                onError: this._onError.bind(this),\n                            },\n                        });\n                        connection.iframe.style.position = 'absolute';\n                        connection.iframe.style.height = '100%';\n                        connection.iframe.style.width = '100%';\n                        connection.iframe.style.border = '0 transparent';\n                        return [4 /*yield*/, connection.promise];\n                    case 2:\n                        communication = _a.sent();\n                        communication.retrieveSession(this.config);\n                        return [2 /*return*/, { communication: communication, iframe: connection.iframe, widgetFrame: widgetFrame }];\n                }\n            });\n        });\n    };\n    Portis.prototype._initProvider = function (options) {\n        var _this = this;\n        var engine = new ProviderEngine();\n        var query = new Query(engine);\n        engine.send = function (payload, callback) {\n            // Web3 1.0 beta.38 (and above) calls `send` with method and parameters\n            if (typeof payload === 'string') {\n                return new Promise(function (resolve, reject) {\n                    engine.sendAsync({\n                        jsonrpc: '2.0',\n                        id: 42,\n                        method: payload,\n                        params: callback || [],\n                    }, function (error, response) {\n                        if (error) {\n                            reject(error);\n                        }\n                        else {\n                            resolve(response.result);\n                        }\n                    });\n                });\n            }\n            // Web3 1.0 beta.37 (and below) uses `send` with a callback for async queries\n            if (callback) {\n                engine.sendAsync(payload, callback);\n                return;\n            }\n            var result = null;\n            switch (payload.method) {\n                case 'eth_accounts':\n                    result = _this._selectedAddress ? [_this._selectedAddress] : [];\n                    break;\n                case 'eth_coinbase':\n                    result = _this._selectedAddress ? [_this._selectedAddress] : [];\n                    break;\n                case 'net_version':\n                    result = _this._network;\n                    break;\n                case 'eth_uninstallFilter':\n                    engine.sendAsync(payload, function (_) { return _; });\n                    result = true;\n                    break;\n                default:\n                    var message = \"The Portis Web3 object does not support synchronous methods like \" + payload.method + \" without a callback parameter.\";\n                    throw new Error(message);\n            }\n            return {\n                id: payload.id,\n                jsonrpc: payload.jsonrpc,\n                result: result,\n            };\n        };\n        engine.addProvider(new FixtureSubprovider({\n            web3_clientVersion: \"Portis/v\" + this.config.version + \"/javascript\",\n            net_listening: true,\n            eth_hashrate: '0x00',\n            eth_mining: false,\n            eth_syncing: true,\n        }));\n        engine.addProvider(new CacheSubprovider());\n        engine.addProvider(new SubscriptionsSubprovider());\n        engine.addProvider(new FilterSubprovider());\n        engine.addProvider(new NonceSubprovider());\n        engine.addProvider({\n            setEngine: function (_) { return _; },\n            handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    if (!payload.id) {\n                        payload.id = 42;\n                    }\n                    next();\n                    return [2 /*return*/];\n                });\n            }); },\n        });\n        engine.addProvider(new HookedWalletSubprovider({\n            getAccounts: function (cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            return [4 /*yield*/, widgetCommunication.getAccounts(this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            if (!error && result) {\n                                this._selectedAddress = result[0];\n                            }\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTransaction: function (txParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            return [4 /*yield*/, widgetCommunication.signTransaction(txParams, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signPersonalMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signPersonalMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTypedMessage: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signTypedMessage' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            signTypedMessageV3: function (msgParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var widgetCommunication, params, _a, error, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, this.widget];\n                        case 1:\n                            widgetCommunication = (_b.sent()).communication;\n                            params = Object.assign({}, msgParams, { messageStandard: 'signTypedMessageV3' });\n                            return [4 /*yield*/, widgetCommunication.signMessage(params, this.config)];\n                        case 2:\n                            _a = _b.sent(), error = _a.error, result = _a.result;\n                            cb(error, result);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            estimateGas: function (txParams, cb) { return __awaiter(_this, void 0, void 0, function () {\n                var gas;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, getTxGas(query, txParams)];\n                        case 1:\n                            gas = _a.sent();\n                            cb(null, gas);\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            getGasPrice: function (cb) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    cb(null, '');\n                    return [2 /*return*/];\n                });\n            }); },\n        }));\n        if (!options.pocketDevId) {\n            engine.addProvider({\n                setEngine: function (_) { return _; },\n                handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                    var widgetCommunication, _a, error, result;\n                    return __generator(this, function (_b) {\n                        switch (_b.label) {\n                            case 0: return [4 /*yield*/, this.widget];\n                            case 1:\n                                widgetCommunication = (_b.sent()).communication;\n                                return [4 /*yield*/, widgetCommunication.relay(payload, this.config)];\n                            case 2:\n                                _a = _b.sent(), error = _a.error, result = _a.result;\n                                if (payload.method === 'net_version') {\n                                    this._network = result;\n                                    engine.networkVersion = this._network;\n                                }\n                                end(error, result);\n                                return [2 /*return*/];\n                        }\n                    });\n                }); },\n            });\n        }\n        else {\n            var pocket_1 = new PocketJSCore.Pocket({\n                devID: options.pocketDevId,\n                networkName: 'ETH',\n                netIDs: [this.config.network.chainId],\n            });\n            engine.addProvider({\n                setEngine: function (_) { return _; },\n                handleRequest: function (payload, next, end) { return __awaiter(_this, void 0, void 0, function () {\n                    var response, result, error;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, pocket_1.sendRelay(new PocketJSCore.Relay('ETH', this.config.network.chainId, JSON.stringify(payload), pocket_1.configuration))];\n                            case 1:\n                                response = _a.sent();\n                                if (response instanceof Error || !response) {\n                                    error = response || new Error('Unknown error');\n                                    result = null;\n                                }\n                                else {\n                                    try {\n                                        result = JSON.parse(response).result;\n                                        error = null;\n                                    }\n                                    catch (e) {\n                                        result = null;\n                                        error = e;\n                                    }\n                                }\n                                if (payload.method === 'net_version') {\n                                    this._network = result;\n                                    engine.networkVersion = this._network;\n                                }\n                                end(error, result);\n                                return [2 /*return*/];\n                        }\n                    });\n                }); },\n            });\n        }\n        engine.enable = function () {\n            return new Promise(function (resolve, reject) {\n                engine.sendAsync({ method: 'eth_accounts' }, function (error, response) {\n                    if (error) {\n                        reject(error);\n                    }\n                    else {\n                        resolve(response.result);\n                    }\n                });\n            });\n        };\n        engine.isConnected = function () {\n            return true;\n        };\n        engine.isPortis = true;\n        engine.on('error', function (error) {\n            if (error && error.message && error.message.includes('PollingBlockTracker')) {\n                console.warn('If you see this warning constantly, there might be an error with your RPC node.');\n            }\n            else {\n                console.error(error);\n            }\n        });\n        engine.start();\n        return engine;\n    };\n    Portis.prototype._setHeight = function (height) {\n        return __awaiter(this, void 0, void 0, function () {\n            var widgetFrame;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.widget];\n                    case 1:\n                        widgetFrame = (_a.sent()).widgetFrame;\n                        widgetFrame.style.height = height + \"px\";\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Portis.prototype._getWindowSize = function () {\n        var body = document.getElementsByTagName('body')[0];\n        var width = window.innerWidth || document.documentElement.clientWidth || body.clientWidth;\n        var height = window.innerHeight || document.documentElement.clientHeight || body.clientHeight;\n        return { width: width, height: height };\n    };\n    Portis.prototype._onLogin = function (walletAddress, email, reputation) {\n        if (this._onLoginCallback) {\n            this._onLoginCallback(walletAddress, email, reputation);\n        }\n    };\n    Portis.prototype._onLogout = function () {\n        this._selectedAddress = '';\n        if (this._onLogoutCallback) {\n            this._onLogoutCallback();\n        }\n    };\n    Portis.prototype._onActiveWalletChanged = function (walletAddress) {\n        if (this._onActiveWalletChangedCallback) {\n            this._onActiveWalletChangedCallback(walletAddress);\n        }\n    };\n    Portis.prototype._onError = function (error) {\n        if (this._onErrorCallback) {\n            this._onErrorCallback(error);\n        }\n    };\n    Portis.prototype.clearSubprovider = function (subproviderType) {\n        var subprovider = this.provider._providers.find(function (subprovider) { return subprovider instanceof subproviderType; });\n        this.provider.removeProvider(subprovider);\n        this.provider.addProvider(new subproviderType());\n    };\n    return Portis;\n}());\nexport default Portis;\n//# sourceMappingURL=index.js.map","export function validateSecureOrigin() {\n    var isLocalhost = location.hostname === 'localhost' || location.hostname === '127.0.0.1';\n    var isSecureOrigin = location.protocol === 'https:';\n    var isSecure = isLocalhost || isSecureOrigin;\n    if (!isSecure) {\n        throw \"[Portis] Access to the WebCrypto API is restricted to secure origins.\\nIf this is a development environment please use http://localhost:\" + location.port + \" instead.\\nOtherwise, please use an SSL certificate.\";\n    }\n}\n//# sourceMappingURL=secureOrigin.js.map","export var styles = \"\\n.por_portis-container {\\n  position: fixed;\\n  width: 0px;\\n  height: 0px;\\n  top: 0px;\\n  right: 0px;\\n  z-index: 2147483647;\\n}\\n\\n@media (max-width: 576px) {\\n  .por_portis-container {\\n    bottom: 0;\\n    top: auto;\\n  }\\n}\\n\\n.por_portis-widget-frame {\\n  position: fixed;\\n  width: 375px;\\n  height: 0;\\n  top: 20px;\\n  right: 20px;\\n  box-shadow: 0 5px 40px rgba(0,0,0,.16);\\n  border-radius: 8px;\\n  overflow: hidden;\\n  z-index: 2147483000;\\n}\\n\\n@media (max-width: 576px) {\\n  .por_portis-widget-frame {\\n    bottom: 0;\\n    top: auto;\\n    width: 100%;\\n    right: 0;\\n    left: 0;\\n    border-bottom-left-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n}\\n\";\n//# sourceMappingURL=styles.js.map","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}